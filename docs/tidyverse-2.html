<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 21 Profundizando tidyverse: encuestas electorales | Analizando datos, visualizando información, contando historias</title>
<meta name="author" content="Javier Álvarez Liébana y Gabriel Valverde Castilla">
<meta name="description" content="Scripts usados: script21.R: profundizando tidyverse. Ver en https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script21.  Vamos a profundizar un poco en el uso de funciones...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Capítulo 21 Profundizando tidyverse: encuestas electorales | Analizando datos, visualizando información, contando historias">
<meta property="og:type" content="book">
<meta property="og:image" content="/img/logo_R.png">
<meta property="og:description" content="Scripts usados: script21.R: profundizando tidyverse. Ver en https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script21.  Vamos a profundizar un poco en el uso de funciones...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 21 Profundizando tidyverse: encuestas electorales | Analizando datos, visualizando información, contando historias">
<meta name="twitter:description" content="Scripts usados: script21.R: profundizando tidyverse. Ver en https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script21.  Vamos a profundizar un poco en el uso de funciones...">
<meta name="twitter:image" content="/img/logo_R.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Sen-0.4.0/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM%20Mono&amp;display=swap" rel="stylesheet">
<link href="libs/_Bitter-0.4.0/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.18/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Analizando datos, visualizando información, contando historias</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Prefacio</a></li>
<li class="book-part">Recursos</li>
<li><a class="" href="ejercicios-recopilados.html">📝 Ejercicios recopilados</a></li>
<li><a class="" href="recursos-de-aprendizaje.html">📚 Recursos de aprendizaje</a></li>
<li><a class="" href="pr%C3%A1cticas-evaluables.html">🏅 Prácticas evaluables</a></li>
<li class="book-part">Toma de contacto</li>
<li><a class="" href="requisitos.html"><span class="header-section-number">1</span> Requisitos</a></li>
<li><a class="" href="instalacion.html"><span class="header-section-number">2</span> Instalación</a></li>
<li><a class="" href="que-es-R.html"><span class="header-section-number">3</span> ¿Qué es R?</a></li>
<li><a class="" href="primeros-pasos.html"><span class="header-section-number">4</span> Primeros pasos</a></li>
<li class="book-part">Conceptos básicos</li>
<li><a class="" href="tipos-datos.html"><span class="header-section-number">5</span> Tipos de datos</a></li>
<li><a class="" href="vectores.html"><span class="header-section-number">6</span> Vectores</a></li>
<li><a class="" href="operacionesvectores.html"><span class="header-section-number">7</span> Operaciones con vectores</a></li>
<li><a class="" href="datos.html"><span class="header-section-number">8</span> Datos estructurados</a></li>
<li><a class="" href="repaso-1.html"><span class="header-section-number">9</span> Repaso: empezando a trastear con datos</a></li>
<li class="book-part">Haciendo el trabajo más fácil</li>
<li><a class="" href="if-else.html"><span class="header-section-number">10</span> Estructuras de control: if-else</a></li>
<li><a class="" href="bucles.html"><span class="header-section-number">11</span> Estructuras de control: bucles</a></li>
<li><a class="" href="proyecto.html"><span class="header-section-number">12</span> Primer proyecto de trabajo</a></li>
<li><a class="" href="funciones.html"><span class="header-section-number">13</span> Funciones</a></li>
<li><a class="" href="listas.html"><span class="header-section-number">14</span> Listas</a></li>
<li class="book-part">Empezando a explorar datos</li>
<li><a class="" href="tibble.html"><span class="header-section-number">15</span> Mejorando los data.frame: datos tibble</a></li>
<li><a class="" href="tidy.html"><span class="header-section-number">16</span> Tidy vs messy data: daticos ordenados</a></li>
<li><a class="" href="importar-exportar.html"><span class="header-section-number">17</span> Sacando datos de las piedras</a></li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">18</span> Contando los datos: rmarkdown</a></li>
<li class="book-part">Incursión a tidyverse</li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">19</span> Depuración y transformación</a></li>
<li><a class="" href="resumenes.html"><span class="header-section-number">20</span> Resumiendo y relacionado datos</a></li>
<li><a class="active" href="tidyverse-2.html"><span class="header-section-number">21</span> Profundizando tidyverse: encuestas electorales</a></li>
<li><a class="" href="ggplot2.html"><span class="header-section-number">22</span> Visualizando datos: incursión a ggplot2</a></li>
<li><a class="" href="bibliograf%C3%ADa.html">Bibliografía</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dadosdelaplace/courses-ECI-2022">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="tidyverse-2" class="section level1">
<h1>
<span class="header-section-number">Capítulo 21</span> Profundizando tidyverse: encuestas electorales<a class="anchor" aria-label="anchor" href="#tidyverse-2"><i class="fas fa-link"></i></a>
</h1>
<div class="blackbox">
<p>Scripts usados:</p>
<ul>
<li>
<a href="https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script21.R"><strong>script21.R</strong></a>: profundizando tidyverse. Ver en <a href="https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script21." class="uri">https://github.com/dadosdelaplace/courses-ECI-2022/blob/main/scripts/script21.</a>
</li>
</ul>
</div>
<p>Vamos a profundizar un poco en el uso de funciones <a href="https://tidyverse.tidyverse.org">tidyverse</a> para el análisis de <mark><strong>datos de encuestas</strong></mark>, <mark><strong>datos de Our World in Data</strong></mark> y <mark><strong>datos de Spotify</strong></mark></p>
<p>En la denostada <mark><strong>wikipedia</strong></mark> se publican de forma <strong>bastante completa</strong> las encuestas electorales previas a las elecciones de un país, en este caso de España. El enlace donde están los datos es <a href="https://en.wikipedia.org/wiki/Opinion_polling_for_the_next_Spanish_general_election" class="uri">https://en.wikipedia.org/wiki/Opinion_polling_for_the_next_Spanish_general_election</a></p>
<p>Lo que vamos a hacer primero <mark><strong>extraer la información de la web</strong></mark>, analizando desde <code>R</code> su código HTML y quedándonos con las <mark><strong>encuestas de 2021 y 2022</strong></mark>. Para ello haremos uso del paquete <a href="https://rvest.tidyverse.org/">rvest</a> (cargaremos también <a href="https://tidyverse.tidyverse.org">tidyverse</a>):</p>
<ul>
<li>
<code><a href="https://rdrr.io/pkg/xml2/man/read_xml.html">read_html()</a></code>: nos permite obtener el código HTML de la web</li>
<li>
<code><a href="https://rdrr.io/pkg/rvest/man/html_element.html">html_elements()</a></code>: nos permite seleccionar elementos de dicho html</li>
<li>
<code><a href="https://rdrr.io/pkg/rvest/man/html_table.html">html_table()</a></code>: nos convierte una tabla HTML en un <code>tibble</code>.</li>
</ul>
<p>De esta manera leeremos el HTML, localizaremos las tablas de datos y seleccionaremos solo las dos primeras (encuestas de 2022 y 2021).</p>
<div class="sourceCode" id="cb1838"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rvest.tidyverse.org/">rvest</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="va">wiki</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"https://en.wikipedia.org/wiki/Opinion_polling_for_the_next_Spanish_general_election"</span><span class="op">)</span>

<span class="co"># Leemos html</span>
<span class="va">html</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xml2/man/read_xml.html">read_html</a></span><span class="op">(</span><span class="va">wiki</span><span class="op">)</span>

<span class="co"># Seleccionamos las tablas del HTML</span>
<span class="va">tablas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_element.html">html_elements</a></span><span class="op">(</span><span class="va">html</span>, <span class="st">".wikitable"</span><span class="op">)</span>

<span class="co"># Obtenemos las dos primeras tablas: encuestas de 2022 y 2021</span>
<span class="va">encuestas_2022</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_table.html">html_table</a></span><span class="op">(</span><span class="va">tablas</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="va">encuestas_2022</span></code></pre></div>
<pre><code>## # A tibble: 12 × 21
##    `Polling firm/Com… `Fieldwork date` `Sample size` Turnout ``     ``     ``   
##    &lt;chr&gt;              &lt;chr&gt;            &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;
##  1 Polling firm/Comm… Fieldwork date   Sample size   Turnout ""     ""     ""   
##  2 DYM/Henneo[1]      19–23 Jan        1,008         ?       "25.7… "26.9… "17.…
##  3 KeyData/Público[2] 21 Jan           ?             68.1    "26.0… "25.6… "17.…
##  4 ElectoPanel/Elect… 14–20 Jan        1,190         ?       "24.4… "22.9… "20.…
##  5 Celeste-Tel/Onda … 10–14 Jan        1,100         ?       "26.2… "27.2… "16.…
##  6 InvyMark/laSexta[… 10–14 Jan        ?             ?       "27.3" "27.9" "16.…
##  7 CIS[7][8][9]       3–14 Jan         3,777         ?       "28.5… "21.5… "14.…
##  8 IMOP/El Confidenc… 3–14 Jan         1,312         ?       "26.4… "24.9… "17.…
##  9 ElectoPanel/Elect… 7–13 Jan         1,317         ?       "24.5… "23.3… "20.…
## 10 Simple Lógica/elD… 3–13 Jan         1,039         63.0    "24.6" "24.3" "18.…
## 11 ElectoPanel/Elect… 31 Dec–6 Jan     1,823         ?       "24.9… "23.5… "20.…
## 12 Data10/OKDiario[1… 3–5 Jan          1,000         ?       "25.4… "27.8… "17.…
## # … with 14 more variables:  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;, PNV &lt;chr&gt;,
## #    &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;, PRC &lt;chr&gt;,  &lt;chr&gt;, Lead &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb1840"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_2021</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_table.html">html_table</a></span><span class="op">(</span><span class="va">tablas</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="va">encuestas_2021</span></code></pre></div>
<pre><code>## # A tibble: 209 × 21
##    `Polling firm/Com… `Fieldwork date` `Sample size` Turnout ``     ``     ``   
##    &lt;chr&gt;              &lt;chr&gt;            &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;
##  1 Polling firm/Comm… Fieldwork date   Sample size   Turnout ""     ""     ""   
##  2 ElectoPanel/Elect… 24–30 Dec        1,189         ?       "24.9… "23.9… "19.…
##  3 40dB/Prisa[16][17] 23–30 Dec        2,000         ?       "26.1… "23.5… "18.…
##  4 IMOP/El Confidenc… 20–30 Dec        1,315         ?       "25.2… "25.0… "18.…
##  5 SocioMétrica/El E… 20–30 Dec        3,000         ?       "25.5… "24.2… "17.…
##  6 PSOE[20]           27 Dec           ?             ?       "29.0" "22.0" "17.…
##  7 Sigma Dos/Antena … 26 Dec           ?             ?       "25.7… "28.8… "15.…
##  8 Sigma Dos/El Mund… 20–24 Dec        2,619         ?       "26.0… "27.4… "16.…
##  9 ElectoPanel/Elect… 17–23 Dec        1,299         ?       "25.3… "24.6… "19.…
## 10 KeyData/Público[2… 22 Dec           ?             67.1    "25.7… "26.4… "17.…
## # … with 199 more rows, and 14 more variables:  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,
## #    &lt;chr&gt;, PNV &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;,  &lt;chr&gt;, PRC &lt;chr&gt;,
## #   TE &lt;chr&gt;, Lead &lt;chr&gt;</code></pre>
<div id="nombrar-columnas-1" class="section level2">
<h2>
<span class="header-section-number">21.1</span> Nombrar columnas<a class="anchor" aria-label="anchor" href="#nombrar-columnas-1"><i class="fas fa-link"></i></a>
</h2>
<p>Dado que la <strong>mayoría de las columnas</strong> tienen como nombre de partido el logo del mismo, vamos a <mark><strong>renombrar las variables</strong></mark>.</p>
<div class="sourceCode" id="cb1842"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nombre_cols</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"casa"</span>, <span class="st">"fechas"</span>, <span class="st">"muestra"</span>, <span class="st">"participacion"</span>, <span class="st">"PSOE"</span>, <span class="st">"PP"</span>, <span class="st">"Vox"</span>,
    <span class="st">"UP"</span>, <span class="st">"Cs"</span>, <span class="st">"ERC"</span>, <span class="st">"MP"</span>, <span class="st">"JxCat"</span>,   <span class="st">"PNV"</span>,  <span class="st">"EHBildu"</span>, <span class="st">"CUP"</span>,
    <span class="st">"CC"</span>, <span class="st">"BNG"</span>, <span class="st">"NA+"</span>, <span class="st">"PRC"</span>, <span class="st">"EV"</span>, <span class="st">"ventaja"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">encuestas_2022</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">encuestas_2021</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">nombre_cols</span>
<span class="va">encuestas_2022</span></code></pre></div>
<pre><code>## # A tibble: 12 × 21
##    casa   fechas muestra participacion PSOE  PP    Vox   UP    Cs    ERC   MP   
##    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 Polli… Field… Sample… Turnout       ""    ""    ""    ""    ""    ""    ""   
##  2 DYM/H… 19–23… 1,008   ?             "25.… "26.… "17.… "11.… "3.4… "–"   "2.8…
##  3 KeyDa… 21 Jan ?       68.1          "26.… "25.… "17.… "11.… "2.9… "3.5… "3.0…
##  4 Elect… 14–20… 1,190   ?             "24.… "22.… "20.… "12.… "3.2… "3.5… "2.5…
##  5 Celes… 10–14… 1,100   ?             "26.… "27.… "16.… "11.… "3.4… "3.0… "3.6…
##  6 InvyM… 10–14… ?       ?             "27.… "27.… "16.… "10.… "1.3" "–"   "3.0"
##  7 CIS[7… 3–14 … 3,777   ?             "28.… "21.… "14.… "13.… "4.0… "3.0… "2.8…
##  8 IMOP/… 3–14 … 1,312   ?             "26.… "24.… "17.… "11.… "2.6… "3.4… "2.5…
##  9 Elect… 7–13 … 1,317   ?             "24.… "23.… "20.… "12.… "3.3… "3.5… "2.6…
## 10 Simpl… 3–13 … 1,039   63.0          "24.… "24.… "18.… "11.… "2.5" "–"   "2.3"
## 11 Elect… 31 De… 1,823   ?             "24.… "23.… "20.… "12.… "3.2… "3.5… "2.6…
## 12 Data1… 3–5 J… 1,000   ?             "25.… "27.… "17.… "10.… "2.7… "3.2… "3.2…
## # … with 10 more variables: JxCat &lt;chr&gt;, PNV &lt;chr&gt;, EHBildu &lt;chr&gt;, CUP &lt;chr&gt;,
## #   CC &lt;chr&gt;, BNG &lt;chr&gt;, NA+ &lt;chr&gt;, PRC &lt;chr&gt;, EV &lt;chr&gt;, ventaja &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb1844"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_2021</span></code></pre></div>
<pre><code>## # A tibble: 209 × 21
##    casa   fechas muestra participacion PSOE  PP    Vox   UP    Cs    ERC   MP   
##    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 Polli… Field… Sample… Turnout       ""    ""    ""    ""    ""    ""    ""   
##  2 Elect… 24–30… 1,189   ?             "24.… "23.… "19.… "11.… "3.2… "3.5… "2.7…
##  3 40dB/… 23–30… 2,000   ?             "26.… "23.… "18.… "11.… "3.6… "?13" "3.6…
##  4 IMOP/… 20–30… 1,315   ?             "25.… "25.… "18.… "12.… "2.8… "3.2… "2.7…
##  5 Socio… 20–30… 3,000   ?             "25.… "24.… "17.… "12.… "4.3… "2.8… "3.2…
##  6 PSOE[… 27 Dec ?       ?             "29.… "22.… "17.… "11.… "–"   "–"   "–"  
##  7 Sigma… 26 Dec ?       ?             "25.… "28.… "15.… "10.… "3.2… "3.0… "3.0…
##  8 Sigma… 20–24… 2,619   ?             "26.… "27.… "16.… "10.… "3.1… "3.0… "3.1…
##  9 Elect… 17–23… 1,299   ?             "25.… "24.… "19.… "11.… "3.2… "3.5… "2.7…
## 10 KeyDa… 22 Dec ?       67.1          "25.… "26.… "17.… "11.… "3.1… "3.4… "3.1…
## # … with 199 more rows, and 10 more variables: JxCat &lt;chr&gt;, PNV &lt;chr&gt;,
## #   EHBildu &lt;chr&gt;, CUP &lt;chr&gt;, CC &lt;chr&gt;, BNG &lt;chr&gt;, NA+ &lt;chr&gt;, PRC &lt;chr&gt;,
## #   EV &lt;chr&gt;, ventaja &lt;chr&gt;</code></pre>
</div>
<div id="eliminar-filas-1" class="section level2">
<h2>
<span class="header-section-number">21.2</span> Eliminar filas<a class="anchor" aria-label="anchor" href="#eliminar-filas-1"><i class="fas fa-link"></i></a>
</h2>
<p>Tras la lectura sin salirnos de <code>R</code>, tenemos <mark><strong>dos tablas de encuestas electorales</strong></mark>, a las que les vamos a quitar la primera fila (vacía) con <code><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice(-1)</a></code>.</p>
<div class="sourceCode" id="cb1846"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_2022</span> <span class="op">&lt;-</span> <span class="va">encuestas_2022</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>
<span class="va">encuestas_2022</span></code></pre></div>
<pre><code>## # A tibble: 11 × 21
##    casa   fechas muestra participacion PSOE  PP    Vox   UP    Cs    ERC   MP   
##    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 DYM/H… 19–23… 1,008   ?             25.7… 26.9… 17.1… 11.6… 3.42… –     2.82…
##  2 KeyDa… 21 Jan ?       68.1          26.0… 25.6… 17.4… 11.5… 2.91  3.513 3.04 
##  3 Elect… 14–20… 1,190   ?             24.4… 22.9… 20.7… 12.7… 3.21  3.514 2.55 
##  4 Celes… 10–14… 1,100   ?             26.2… 27.2… 16.5… 11.0… 3.42  3.012 3.65 
##  5 InvyM… 10–14… ?       ?             27.3  27.9  16.5  10.9  1.3   –     3.0  
##  6 CIS[7… 3–14 … 3,777   ?             28.5… 21.5… 14.7… 13.1… 4.03  3.013 2.83 
##  7 IMOP/… 3–14 … 1,312   ?             26.4… 24.9… 17.9… 11.8… 2.61  3.414 2.53 
##  8 Elect… 7–13 … 1,317   ?             24.5… 23.3… 20.5… 12.4… 3.31  3.514 2.66 
##  9 Simpl… 3–13 … 1,039   63.0          24.6  24.3  18.7  11.1  2.5   –     2.3  
## 10 Elect… 31 De… 1,823   ?             24.9… 23.5… 20.2… 12.0… 3.21  3.514 2.65 
## 11 Data1… 3–5 J… 1,000   ?             25.4… 27.8… 17.0… 10.9… 2.71  3.213 3.23 
## # … with 10 more variables: JxCat &lt;chr&gt;, PNV &lt;chr&gt;, EHBildu &lt;chr&gt;, CUP &lt;chr&gt;,
## #   CC &lt;chr&gt;, BNG &lt;chr&gt;, NA+ &lt;chr&gt;, PRC &lt;chr&gt;, EV &lt;chr&gt;, ventaja &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb1848"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_2021</span> <span class="op">&lt;-</span> <span class="va">encuestas_2021</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>
<span class="va">encuestas_2021</span></code></pre></div>
<pre><code>## # A tibble: 208 × 21
##    casa   fechas muestra participacion PSOE  PP    Vox   UP    Cs    ERC   MP   
##    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 Elect… 24–30… 1,189   ?             24.9… 23.9… 19.9… 11.8… 3.21  3.514 2.76 
##  2 40dB/… 23–30… 2,000   ?             26.1… 23.5… 18.3… 11.8… 3.62… ?13   3.63…
##  3 IMOP/… 20–30… 1,315   ?             25.2… 25.0… 18.6… 12.1… 2.81  3.213 2.73 
##  4 Socio… 20–30… 3,000   ?             25.5… 24.2… 17.7… 12.3… 4.33  2.812 3.25 
##  5 PSOE[… 27 Dec ?       ?             29.0  22.0  17.0  11.0  –     –     –    
##  6 Sigma… 26 Dec ?       ?             25.7… 28.8… 15.7… 10.6… 3.21  3.0?  3.06 
##  7 Sigma… 20–24… 2,619   ?             26.0… 27.4… 16.6… 10.9… 3.11  3.012 3.16 
##  8 Elect… 17–23… 1,299   ?             25.3… 24.6… 19.5… 11.4… 3.21  3.514 2.76 
##  9 KeyDa… 22 Dec ?       67.1          25.7… 26.4… 17.1… 11.1… 3.11  3.413 3.14 
## 10 DYM/H… 15–19… 1,012   ?             25.6… 27.6… 16.9… 10.6… 4.72… –     3.22…
## # … with 198 more rows, and 10 more variables: JxCat &lt;chr&gt;, PNV &lt;chr&gt;,
## #   EHBildu &lt;chr&gt;, CUP &lt;chr&gt;, CC &lt;chr&gt;, BNG &lt;chr&gt;, NA+ &lt;chr&gt;, PRC &lt;chr&gt;,
## #   EV &lt;chr&gt;, ventaja &lt;chr&gt;</code></pre>
</div>
<div id="añadir-columna-de-año-1" class="section level2">
<h2>
<span class="header-section-number">21.3</span> Añadir columna de año<a class="anchor" aria-label="anchor" href="#a%C3%B1adir-columna-de-a%C3%B1o-1"><i class="fas fa-link"></i></a>
</h2>
<p>En cada tabla vamos a <mark><strong>añadir una nueva columna que indique el año</strong></mark>.</p>
<div class="sourceCode" id="cb1850"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_2022</span> <span class="op">&lt;-</span> <span class="va">encuestas_2022</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>anno <span class="op">=</span> <span class="fl">2022</span><span class="op">)</span>
<span class="va">encuestas_2021</span> <span class="op">&lt;-</span> <span class="va">encuestas_2021</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>anno <span class="op">=</span> <span class="fl">2021</span><span class="op">)</span></code></pre></div>
</div>
<div id="juntar-tablas-1" class="section level2">
<h2>
<span class="header-section-number">21.4</span> Juntar tablas<a class="anchor" aria-label="anchor" href="#juntar-tablas-1"><i class="fas fa-link"></i></a>
</h2>
<p>Dado que queremos <mark><strong>un solo dataset</strong></mark> con las encuestas de ambos años, vamos a juntar ambas tablas con <code><a href="https://rdrr.io/r/base/cbind.html">rbind()</a></code> para tener una sola tabla <code>encuestas</code>.</p>
<div class="sourceCode" id="cb1851"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">encuestas_2022</span>, <span class="va">encuestas_2021</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb1852"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">encuestas</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,
              caption <span class="op">=</span> <span class="st">"Encuestas de 2021 y 2022"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-2b5cd42d182573f022c9" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-2b5cd42d182573f022c9">{"x":{"filter":"none","caption":"<caption>Encuestas de 2021 y 2022<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219"],["DYM/Henneo[1]","KeyData/Público[2]","ElectoPanel/Electomanía[3]","Celeste-Tel/Onda Cero[4][5]","InvyMark/laSexta[6]","CIS[7][8][9]","IMOP/El Confidencial[10]","ElectoPanel/Electomanía[11]","Simple Lógica/elDiario.es[12]","ElectoPanel/Electomanía[13]","Data10/OKDiario[14]","ElectoPanel/Electomanía[15]","40dB/Prisa[16][17]","IMOP/El Confidencial[18]","SocioMétrica/El Español[19]","PSOE[20]","Sigma Dos/Antena 3[21][22]","Sigma Dos/El Mundo[23][24]","ElectoPanel/Electomanía[25]","KeyData/Público[26]","DYM/Henneo[27]","Celeste-Tel/Onda Cero[28][29]","IMOP/El Confidencial[30]","GAD3/ABC[31][32]","ElectoPanel/Electomanía[33]","CIS (SocioMétrica)[a][34]","CIS[35][36][37]","Simple Lógica[38]","NC Report/La Razón[39][40]","ElectoPanel/Electomanía[41]","Data10/OKDiario[42]","Hamalgama Métrica/VozPópuli[43]","Ágora Integral/Canarias Ahora[44][45]","ElectoPanel/Electomanía[46]","IMOP/El Confidencial[47]","Sigma Dos/El Mundo[48][49]","ElectoPanel/Electomanía[50]","SW Demoscopia/Publicaciones Sur[51]","KeyData/Público[52]","Sigma Dos/Antena 3[53]","DYM/Henneo[54]","InvyMark/laSexta[55]","ElectoPanel/Electomanía[56]","IMOP/El Confidencial[57]","Celeste-Tel/Onda Cero[58][59]","Simple Lógica[60]","Sigma Dos/El Mundo[61][62]","GAD3/NIUS[63][64]","ElectoPanel/Electomanía[65]","CIS[66][67][68]","Hamalgama Métrica/VozPópuli[69]","SocioMétrica/El Español[70][71]","NC Report/La Razón[72][73]","IMOP/El Confidencial[74]","InvyMark/laSexta[75]","Data10/OKDiario[76]","ElectoPanel/Electomanía[77]","Metroscopia[78][79]","SW Demoscopia[80]","ElectoPanel/Electomanía[81]","DYM/Henneo[82]","Celeste-Tel/Onda Cero[83][84]","ElectoPanel/Electomanía[85]","IMOP/El Confidencial[86]","Sigma Dos/El Mundo[87][88]","KeyData/Público[89]","NC Report/La Razón[90][91]","InvyMark/laSexta[92]","ElectoPanel/Electomanía[93]","Simple Lógica[94]","GAD3/ABC[95][96]","CIS[97][98][99]","Sigma Dos/Antena 3[100]","Metroscopia[79]","ElectoPanel/Electomanía[101]","IMOP/El Confidencial[102]","Data10/OKDiario[103]","SocioMétrica/El Español[104][105]","Hamalgama Métrica/VozPópuli[106][107]","ElectoPanel/Electomanía[108]","Ágora Integral/Canarias Ahora[109][110]","ElectoPanel/Electomanía[111]","IMOP/El Confidencial[112]","KeyData/Público[113]","Celeste-Tel/Onda Cero[114][115]","Metroscopia[79]","Data10/OKDiario[116]","DYM/Henneo[117][118]","NC Report/La Razón[119][120]","ElectoPanel/Electomanía[121]","GAD3/NIUS[122][123]","Simple Lógica[124]","CIS[125][126][127]","IMOP/El Confidencial[128]","ElectoPanel/Electomanía[129]","ElectoPanel/Electomanía[130]","Sigma Dos/El Mundo[131]","Data10/OKDiario[132]","KeyData/Público[133]","Sigma Dos/Antena 3[134]","NC Report/La Razón[135][136]","ElectoPanel/Electomanía[137]","ElectoPanel/Electomanía[138]","Celeste-Tel/Onda Cero[139][140]","ElectoPanel/Electomanía[141]","Data10/OKDiario[142]","ElectoPanel/Electomanía[143]","Simple Lógica[144]","ElectoPanel/Electomanía[145]","SocioMétrica/El Español[146][147]","Celeste-Tel/Onda Cero[148][149]","ElectoPanel/Electomanía[150]","KeyData/Público[151]","GAD3/ABC[152][153]","Sigma Dos/Antena 3[154]","DYM/Henneo[155][156]","Data10/OKDiario[157]","NC Report/La Razón[158][159]","InvyMark/laSexta[160]","ElectoPanel/Electomanía[161]","Metroscopia[79]","GESOP/El Periódico[162]","CIS (SocioMétrica)[a][163]","CIS[164][165][166]","Simple Lógica[167]","ElectoPanel/Electomanía[168]","InvyMark/laSexta[169]","ElectoPanel/Electomanía[170]","Data10/OKDiario[171]","Sigma Dos/El Mundo[172][173]","SocioMétrica/El Español[174]","ElectoPanel/Electomanía[175]","NC Report/La Razón[176][177]","KeyData/Público[178]","Sigma Dos/Antena 3[179]","DYM/Henneo[180][181]","Metroscopia[79]","Celeste-Tel/Onda Cero[182][183]","ElectoPanel/Electomanía[184]","CIS[185][186][187]","ElectoPanel/Electomanía[188]","GAD3/NIUS[189][190]","Simple Lógica[191]","ElectoPanel/Electomanía[192]","Data10/OKDiario[193]","Sigma Dos/El Mundo[194][195]","SocioMétrica/El Español[196][197]","ElectoPanel/Electomanía[198]","DYM/Henneo[199][200]","NC Report/La Razón[201][202]","ElectoPanel/Electomanía[203]","InvyMark/laSexta[204]","KeyData/Público[205]","Metroscopia[79][206]","GAD3/ABC[207][208]","Sigma Dos/Antena 3[209]","ElectoPanel/Electomanía[210]","Celeste-Tel/Onda Cero[211][212]","CIS[213][214][215]","Simple Lógica[216]","Hamalgama Métrica/OKDiario[217]","NC Report/La Razón[218][219]","InvyMark/laSexta[220]","Sigma Dos/El Mundo[221]","Demoscopia y Servicios/ESdiario[222]","ElectoPanel/Electomanía[223]","ElectoPanel/Electomanía[224]","ElectoPanel/Electomanía[225]","ElectoPanel/Electomanía[226]","GAD3/NIUS[227][228]","InvyMark/laSexta[229]","Metroscopia[79]","CIS (SocioMétrica)[a][230]","CIS[231][232][233]","Simple Lógica[234]","ElectoPanel/Electomanía[235]","ElectoPanel/Electomanía[236]","NC Report/La Razón[237][238]","ElectoPanel/Electomanía[239]","ElectoPanel/Electomanía[240]","InvyMark/laSexta[241]","ElectoPanel/Electomanía[242]","Metroscopia[79]","ElectoPanel/Electomanía[243]","CIS[244][245][246]","Simple Lógica[247]","InvyMark/laSexta[241]","ElectoPanel/Electomanía[248]","Sigma Dos/El Mundo[249][250][251]","KeyData/Público[252]","NC Report/La Razón[253][254]","ElectoPanel/Electomanía[255]","GAD3/NIUS[256][257]","DYM/Henneo[258][259]","Celeste-Tel/Onda Cero[260]","Hamalgama Métrica/OKDiario[261]","ElectoPanel/Electomanía[262]","Sigma Dos/El Mundo[263][264]","ElectoPanel/Electomanía[265]","Metroscopia[79]","ElectoPanel/Electomanía[266]","CIS (SocioMétrica)[a][267]","CIS[268][269][270]","ElectoPanel/Electomanía[271]","Simple Lógica[272]","ElectoPanel/Electomanía[273]","CIS (SocioMétrica)[a][274]","CIS[275][276][277]","ElectoPanel/Electomanía[278]","InvyMark/laSexta[279]","Metroscopia[79][206]","Celeste-Tel/Onda Cero[280]","ElectoPanel/Electomanía[281]","Hamalgama Métrica/OKDiario[282]","Simple Lógica[283]","SyM Consulting[284][285]","ElectoPanel/Electomanía[286]","SocioMétrica/El Español[287]","ElectoPanel/Electomanía[288]"],["19–23 Jan","21 Jan","14–20 Jan","10–14 Jan","10–14 Jan","3–14 Jan","3–14 Jan","7–13 Jan","3–13 Jan","31 Dec–6 Jan","3–5 Jan","24–30 Dec","23–30 Dec","20–30 Dec","20–30 Dec","27 Dec","26 Dec","20–24 Dec","17–23 Dec","22 Dec","15–19 Dec","13–17 Dec","6–17 Dec","13–16 Dec","10–16 Dec","1–13 Dec","1–13 Dec","1–13 Dec","8–11 Dec","3–10 Dec","7–9 Dec","2–9 Dec","1–5 Dec","26 Nov–3 Dec","22 Nov–3 Dec","30 Nov–1 Dec","19–26 Nov","23–24 Nov","22 Nov","22 Nov","17–21 Nov","15–19 Nov","12–19 Nov","8–19 Nov","11–16 Nov","30 Oct–15 Nov","10–11 Nov","8–11 Nov","4–11 Nov","2–11 Nov","3–10 Nov","5–8 Nov","2–6 Nov","25 Oct–6 Nov","1–5 Nov","2–4 Nov","29 Oct–4 Nov","21 Oct–4 Nov","20–30 Oct","22–29 Oct","20–24 Oct","18–22 Oct","15–22 Oct","11–22 Oct","19–21 Oct","20 Oct","13–15 Oct","11–15 Oct","8–15 Oct","30 Sep–15 Oct","8–14 Oct","1–13 Oct","11 Oct","10 Oct","1–8 Oct","27 Sep–8 Oct","5–7 Oct","4–7 Oct","1–6 Oct","24 Sep–1 Oct","23–27 Sep","17–24 Sep","13–24 Sep","23 Sep","16–21 Sep","20 Sep","19–20 Sep","16–19 Sep","14–18 Sep","10–17 Sep","13–16 Sep","1–16 Sep","1–13 Sep","30 Aug–10 Sep","3–9 Sep","27 Aug–3 Sep","30 Aug–2 Sep","30 Aug–1 Sep","30 Aug","30 Aug","24–27 Aug","20–26 Aug","14–21 Aug","16–20 Aug","6–13 Aug","4–6 Aug","31 Jul–6 Aug","2–4 Aug","23–30 Jul","26–29 Jul","20–23 Jul","16–23 Jul","22 Jul","16–22 Jul","19 Jul","15–19 Jul","16–17 Jul","12–16 Jul","12–16 Jul","11–16 Jul","15 Jul","14–15 Jul","2–15 Jul","2–15 Jul","5–12 Jul","8–10 Jul","28 Jun–2 Jul","24 Jun–2 Jul","29 Jun–1 Jul","28 Jun–1 Jul","27 Jun","24–26 Jun","23–26 Jun","21 Jun","21 Jun","17–21 Jun","20 Jun","14–18 Jun","12–18 Jun","2–15 Jun","5–11 Jun","7–10 Jun","1–9 Jun","30 May–4 Jun","1–3 Jun","31 May–1 Jun","26–29 May","23–28 May","21–24 May","17–22 May","17–22 May","17–21 May","20 May","20 May","12–18 May","17 May","10–15 May","10–14 May","4–13 May","4–12 May","10–11 May","4–8 May","5–7 May","5–6 May","5–6 May","4–6 May","24 Apr–2 May","18–24 Apr","10–17 Apr","14–16 Apr","12–16 Apr","15 Apr","5–14 Apr","5–14 Apr","5–13 Apr","2–9 Apr","26 Mar–2 Apr","26–31 Mar","22–26 Mar","16–20 Mar","15–19 Mar","15 Mar","15 Mar","12–13 Mar","1–11 Mar","1–9 Mar","1–5 Mar","28 Feb–5 Mar","1–3 Mar","1 Mar","24–28 Feb","20–27 Feb","22–25 Feb","19–23 Feb","17–23 Feb","19–22 Feb","17–20 Feb","15–17 Feb","14–16 Feb","15 Feb","6–12 Feb","3–11 Feb","3–11 Feb","30 Jan–6 Feb","1–5 Feb","22–29 Jan","7–25 Jan","7–25 Jan","18–22 Jan","18–22 Jan","15 Jan","11–15 Jan","11–15 Jan","12–14 Jan","4–13 Jan","7–10 Jan","3–9 Jan","28 Dec–5 Jan","28 Dec–2 Jan"],["1,008","?","1,190","1,100","?","3,777","1,312","1,317","1,039","1,823","1,000","1,189","2,000","1,315","3,000","?","?","2,619","1,299","?","1,012","1,100","1,297","1,003","1,305","3,733","3,733","1,041","1,000","2,177","1,000","1,000","1,500","1,132","1,316","1,633","?","610","?","?","1,021","?","1,564","1,343","1,100","1,026","1,688","1,001","1,502","3,779","1,000","1,200","1,000","1,342","?","1,000","1,479","2,400","1,203","1,228","1,000","1,100","1,822","1,338","1,928","?","1,000","?","1,863","1,056","1,001","3,660","?","?","2,119","1,317","1,000","1,200","1,000","1,193","1,000","1,651","1,304","?","1,100","?","1,000","1,000","1,000","1,233","1,002","1,027","3,780","1,309","1,084","1,640","1,050","1,000","?","?","1,000","1,422","2,208","1,100","1,399","1,000","1,170","1,062","877","1,200","1,100","1,601","?","1,030","?","1,019","1,000","1,000","?","2,001","?","802","3,798","3,798","1,076","1,883","?","2,539","1,000","1,020","?","1,627","1,000","?","?","1,002","?","1,100","1,332","3,814","1,673","1,026","1,017","1,462","1,000","1,000","1,100","1,272","1,008","1,000","1,582","?","?","?","1,202","?","1,930","1,100","3,814","1,063","1,000","1,000","?","1,000","1,000","1,825","4,320","3,125","2,450","1,001","?","?","3,823","3,823","1,053","2,300","2,000","1,000","2,000","2,513","?","2,400","?","2,576","3,820","1,023","?","1,406","1,096","?","1,000","1,406","1,000","1,002","1,100","1,000","1,406","1,145","1,240","?","2,530","3,869","3,869","1,814","1,054","1,493","3,862","3,862","1,470","?","?","1,100","1,382","1,000","1,045","2,915","1,562","1,206","1,321"],["?","68.1","?","?","?","?","?","?","63.0","?","?","?","?","?","?","?","?","?","?","67.1","?","?","?","68","?","63.9","?","65.3","62.2","?","?","?","62.5","?","?","?","?","?","65.9","?","?","?","?","?","63.4","62.9","?","66","?","?","?","?","62.6","?","?","?","?","66","?","?","?","63.3","?","?","?","65.6","63.3","?","?","64.5","75","?","?","?","?","?","?","?","65.7","?","61.9","?","?","64.2","63.6","?","?","?","63.6","?","?","64.9","?","?","?","?","?","?","63.9","?","63.8","?","?","64.1","?","?","?","62.8","?","?","64.4","?","64.3","73","?","?","?","64.2","?","?","?","?","62.2","?","64.9","?","?","?","?","?","?","?","63.8","67.4","?","?","?","64.2","?","?","?","65","64.4","?","?","?","?","?","?","64.2","?","?","68.9","?","74","?","?","64.5","?","65.5","?","64.4","?","?","?","?","?","?","?","63","?","?","62.6","?","65.6","?","?","63.1","?","?","?","?","?","?","?","64.6","?","?","?","68.5","63.3","?","62","?","64.4","?","?","?","?","?","?","64.7","?","?","62.0","?","62.6","?","?","?","?","64.7","?","?","66.3","70.0","?","?","?"],["25.7101/106","26.0106","24.494","26.2102","27.3","28.5128","26.4105","24.592","24.6","24.995","25.498","24.995","26.1102/114","25.2102","25.5103","29.0","25.7102","26.0102","25.3101","25.7103","25.6101/106","26.0102","25.7103","25.199","25.3102","24.7","28.0122","25.5","25.397/99","25.5102","25.6100","25.799","25.5101","25.8102","25.7104","26.4106","25.9104","25.9106","25.6102","25.8101","25.5100/105","26.7","25.7101","27.1107","26.1102","24.3","25.9100","24.996/100","25.8104","27.6122","25.8100","25.4105","25.298/100","26.3104","26.0","25.298","25.499","26.5107","25.3102/108","25.598","24.796/100","26.4103","25.8100","25.8101","25.599","25.8103","25.4101/103","25.7","26.2102","23.8","26.2103","28.5128","25.1100","26.6","26.6105","25.8101","24.998","25.099","26.2103","26.7106","26.1103","27.2108","26.1103","26.0104","26.1103","26.5","25.0100","26.0105/110","25.099/101","26.0103","26.3102/106","26.2","29.6130","26.6108","25.7102","25.397","24.498","24.598","25.3101","24.899","25.399/101","25.096","25.096","25.7102","25.096","24.799","25.098","27.9","25.098","24.7101","25.6101","25.499","25.2102","25.1101","25.1103","24.096/100","24.597","25.9101/103","26.2","25.499","26.0","27.3118/120","25.1","28.6128","23.0","26.0101","25.9","24.995","24.396","25.9103","24.196","25.197","24.797/99","25.2103","24.596","25.7101/105","26.1","25.398","25.9102","27.4122","25.399","25.5101/103","23.0","25.498","25.5103","25.0100","25.4102","25.497","24.599/103","25.8100/102","25.297","26.9","26.2110","22.8","25.4103","26.0101","26.4107","26.0100","27.9124","26.0","25.599","26.1106/108","26.7","25.7","25.3107","26.9108","27.1113","27.0112","26.6107","28.7121/123","28.0","29.8","30.0","31.5136","27.9","26.2106","26.5107","26.6108/110","26.4107","26.2105","28.4","26.2103","27.9","29.9123","31.3140","27.1","26.8","28.5118","27.2","27.8119","27.4115/117","29.0121","28.6120/124","25.4116/120","28.3118","28.7118","29.4123","27.6","29.0123","28.7","27.3117","28.1","30.7141","27.2117","28.8","27.0116","28.6","30.7139","27.1116","27.0","27.2","27.0113","27.2118","26.4109","26.3","26.7","27.2117","26.7112","27.3117"],["26.9114/119","25.6106","22.994","27.2115","27.9","21.594","24.9103","23.396","24.3","23.598","27.8117","23.998","23.595/102","25.0102","24.2101","22.0","28.8125","27.4118","24.699","26.4113","27.6119/124","27.9118","24.7101","28.5122","25.3101","20.7","20.892","23.1","28.8123/125","25.7105","28.1119","28.1118","24.5104","25.8105","25.8105","28.6126","26.2109","23.097","27.3116","29.3130","25.8106/111","28.0","25.7105","26.8113","28.5121","23.0","29.1130","29.5124/128","26.2107","20.992","28.3120","25.5107","29.3125/127","27.1117","28.2","28.8126","27.3116","25.2104","25.5104/110","27.7117","29.2124/129","28.9123","27.9118","28.0120","28.9129","28.2121","29.6127/129","28.4","28.2119","25.5","29.2123","22.199","28.5130","26.2","28.0118","26.8115","29.0127","27.2118","28.7121","27.5114","26.3118","27.5117","26.6113","28.0120","29.2124","26.2","28.7126","26.1108/114","29.9128/130","28.1120","28.2118/122","22.5","20.592","26.4113","28.6121","28.1120","29.1131","29.8129","28.8125","28.9132","30.1129/131","28.6124","28.5122","29.7129","28.6124","30.0131","28.3120","24.6","28.4121","26.4116","30.0131","28.1120","28.3122","31.1139","28.8130","28.0121/125","30.3133","29.8126/128","28.0","27.7117","28.4","26.0116/118","26.8","23.4103","26.9","27.9118","28.3","28.4124","30.2134","29.4130","26.2115","28.6123","30.4129/131","28.2121","30.1133","27.9120/125","30.2","29.8131","28.6121","23.9103","28.4121","30.7136/138","27.1","27.9121","28.7124","29.5132","26.5114","27.9121","28.1121/126","30.0127/129","27.3119","27.2","27.0115","30.3","30.5138","30.7133","26.9115","28.1117","23.4103","26.2","27.3111","26.9109/111","27.3","30.2","25.9113","25.8110","24.0100","23.999","24.299","27.0114/116","24.5","24.1","20.8","20.688","22.9","24.199","24.1101","24.8105/107","24.5104","24.5103","23.9","24.6103","20.9","23.092","17.974","17.5","23.2","21.290","22.9","21.390","23.797/99","20.884","22.292/96","19.686/90","22.396","22.191","20.988","23.4","21.689","19.6","22.997","19.7","18.878","23.5101","18.8","23.4102","22.2","20.588","23.2101","23.2","22.8","23.7101","23.197","24.4103","21.1","24.6","22.896","22.997","23.097"],["17.155/59","17.464","20.778","16.559","16.5","14.750","17.966","20.577","18.7","20.276","17.060","19.975","18.363/71","18.667","17.765","17.0","15.752","16.658","19.570","17.159","16.954/58","16.155","19.168","17.156","18.769","18.8","14.649","19.4","15.551/53","18.567","16.556","16.357","16.958","18.166","18.264","15.047","17.962","18.868","16.456","15.247","18.362/66","16.6","18.267","16.757","15.452","18.3","15.448","14.747/49","17.961","14.348","16.155","16.858","15.249/51","16.451","16.9","16.252","17.458","18.066","17.955/62","17.358","14.646/50","15.150","17.357","15.952","15.047","15.753","15.147/49","16.6","16.755","17.6","15.451","13.241","14.645","17.0","16.954","16.858","16.052","16.355","15.953","17.056","15.454","16.552","17.059","15.552","15.150","18.1","16.152","15.650/54","14.947/49","16.453","15.450/52","17.7","13.843","16.556","16.253","16.355","14.947","15.551","15.149","14.746","14.746/48","16.354","16.355","14.848","16.354","15.350","16.455","15.9","16.555","16.156","14.947","17.056","15.752","12.437","14.144","16.754/58","15.449","15.350/52","17.7","17.358","14.7","13.140/42","15.6","13.641","17.4","16.755","18.1","16.354","15.549","14.444","16.658","16.254","15.149/51","15.852","15.548","16.053/57","14.6","15.549","15.851","13.041","16.254","12.437/39","17.0","16.855","15.852","15.451","16.960","16.755","16.053/57","14.948/50","16.455","18.4","16.454","12.2","13.840","15.749","15.852","16.259","13.743","15.9","17.967","17.159/61","18.9","15.2","16.961","16.657","16.959","16.959","17.263","14.546/48","18.3","17.6","18.8","15.453","17.6","17.061","16.860","17.459/61","16.656","16.757","18.6","16.656","19.9","18.164","15.053","18.5","17.4","18.968","17.4","17.764","18.060/62","19.070","17.159/61","18.166/69","18.260","19.164","18.465","15.6","17.963","19.1","15.853","16.3","13.645","15.249","16.9","15.450","15.9","13.040","15.651","16.9","16.5","14.851","15.853","15.655","15.2","14.2","16.155","16.760","16.054"],["11.627/30","11.529","12.733","11.026","10.9","13.138","11.829","12.433","11.1","12.030","10.928","11.829","11.828/34","12.130","12.333","11.0","10.625","10.925","11.428","11.129","10.623/26","10.225","11.830","9.824","11.126","14.1","13.740","10.6","9.924/26","10.825","10.626","10.226","11.832","11.126","11.628","10.124","10.925","12.733","11.129","11.026","12.229/32","9.4","11.526","11.027","10.526","11.4","10.524","11.832/34","11.528","13.640","10.326","12.434","9.824/26","11.530","8.7","10.324","11.227","11.028","11.226/33","10.827","13.231/34","10.025","10.525","11.028","10.925","10.425","9.622/24","9.0","10.425","12.4","10.124","11.833","11.124","10.0","10.024","10.828","9.822","11.430","10.124","10.224","11.530","10.124","10.927","10.225","9.924","9.8","9.622","12.830/33","9.521/23","10.425","11.027/29","11.3","11.333","10.626","10.325","10.526","10.322","9.322","9.723","9.821","9.321/23","10.024","10.224","9.721","10.024","8.919","10.125","10.8","10.124","10.326","9.621","9.924","9.825","10.023","10.025","10.523/26","9.017","9.220/22","9.3","10.024","11.1","10.024/26","10.1","10.629","12.1","9.924","8.9","10.125","9.118","10.525","10.426","10.024","9.019/21","9.725","11.427","9.921/24","10.5","9.521","9.623","12.033","10.024","9.219/21","9.3","10.425","8.618","10.224","9.320","10.726","9.320/22","9.219/21","11.027","8.2","10.225","11.3","8.317","10.023","10.926","9.625","10.429","8.7","9.023","9.923/25","7.9","13.0","10.319","11.428","12.331","12.533","12.431","9.218/20","9.3","11.2","10.8","10.729","11.1","12.834","13.035","11.528/30","13.437","13.739","9.8","13.438","11.8","9.921","9.622","11.0","10.3","10.525","11.7","11.128","10.927/29","10.525","10.122/24","12.532/35","10.125","9.926","10.020","11.9","10.223","11.3","10.726","11.3","11.230","10.826","10.3","11.026","10.0","10.727","11.026","10.2","11.5","11.830","11.127","12.531","10.7","9.6","11.228","10.525","11.228"],["3.42/3","2.91","3.21","3.42","1.3","4.03","2.61","3.31","2.5","3.21","2.71","3.21","3.62/3","2.81","4.33","–","3.21","3.11","3.21","3.11","4.72/3","3.42","2.41","2.51","3.21","4.6","5.99","3.6","3.01","3.31","2.81","2.91","3.22","3.31","2.31","3.51","3.21","3.01","2.81","3.41","4.72/3","1.3","3.01","2.20","3.42","2.8","3.01","2.51","3.01","5.79","2.81","3.92","2.91","2.41","1.5","2.51","3.01","2.71","3.00/3","2.91","3.72","3.42","2.71","2.61","3.11","3.01","2.71","1.5","2.91","4.0","2.82","6.010","3.31","2.5","2.81","2.61","2.81","4.32","2.71","3.01","3.22","3.21","2.61","3.01","3.52","2.0","2.91","3.92/3","2.72","3.31","2.81","3.3","6.510","2.91","3.31","3.41","3.11","2.81","3.32","2.91","2.72","3.41","3.42","3.52","3.41","2.91","3.52","2.9","3.42","5.03","3.32","3.01","3.31","3.52","2.81","4.02/3","2.31","2.71","1.4","2.91","2.5","3.92/3","3.1","5.57","2.4","2.91","1.5","3.11","2.81","2.51","5.24","3.01","2.61","3.01","2.51","3.52/3","2.0","2.41","3.01","5.78","3.11","2.91/2","3.4","3.01","2.71","3.22","3.11","3.01","3.42/3","2.91/2","2.91","1.4","3.51","2.2","3.32","3.11","2.91","2.51","5.37","4.0","2.31","2.81/2","1.2","3.6","2.31","3.21","4.03","4.03","3.83","4.53","3.6","2.1","4.0","6.710","3.8","3.93","3.72","4.01/3","3.21","2.81","4.4","2.41","3.0","2.51","9.520","7.6","6.6","4.94","5.4","5.76","4.33/4","5.04","5.97","7.59/12","4.65","3.13","5.67","6.3","5.66","4.6","7.512","9.0","9.317","7.412","9.2","7.312","7.4","9.317","7.312","7.0","6.4","6.79","7.111","5.27","8.9","6.6","6.910","6.710","6.810"],["–","3.513","3.514","3.012","–","3.013","3.414","3.514","–","3.514","3.213","3.514","?13","3.213","2.812","–","3.0?","3.012","3.514","3.413","–","3.213","3.213","3.315","3.513","2.6","2.512","–","3.413/14","3.513","3.213","3.313","3.713","3.413","2.913","3.012","3.413","?13","3.613","3.012","–","–","3.513","3.013","3.113","–","3.012","3.313/14","3.414","2.612","3.313","3.213","3.413","3.113","–","3.213","3.414","–","3.6?","3.313","–","3.213","3.313","3.213","3.112","3.613","3.413","–","3.213","–","3.013","3.113","3.113","–","3.314","3.213","3.314","3.013","3.313","3.414","3.512","3.314","3.113","3.613","3.213","–","3.314","–","3.312","3.413","3.814","–","3.213","2.913","3.313","3.414","3.414","3.414","3.713","3.313","3.312","3.414","3.414","3.213","3.414","3.514","3.313","–","3.313","3.113","3.213","3.414","3.613","3.313","3.413","–","3.413","3.313","–","3.414","–","3.412/14","3.7","3.314","–","3.414","–","3.414","3.313","3.012","3.113","3.414","3.313","3.513","3.516","–","–","3.213","3.414","3.614","3.414","3.011/12","–","3.514","3.313","3.210","3.614","3.514","–","3.313","3.514","–","3.513","–","3.013","3.012","3.513","3.213","3.013","–","3.113","3.413","–","3.1","3.412","3.513","3.613","3.614","3.614","3.213/14","–","–","3.2","2.812","–","3.614","3.613","3.313","3.513","3.614","–","3.614","–","3.614","3.213","–","–","3.413","3.2","3.613","3.313","3.413","3.713","–","3.614","3.414","3.413","3.2","3.413","–","3.313","3.3","3.515","3.413","–","3.413","2.9","2.912","3.413","–","–","3.914","3.313","3.814","–","3.7","3.313","3.413","3.313"],["2.82/3","3.04","2.55","3.65","3.0","2.83","2.53","2.66","2.3","2.65","3.23","2.76","3.63/4","2.73","3.25","–","3.06","3.16","2.76","3.14","3.22/3","3.95","2.53","2.53","2.86","2.7","2.23","2.8","2.85/6","2.76","3.45","3.36","4.47","2.86","2.73","3.57","2.86","2.53","3.15","2.96","2.52/3","4.0","2.86","3.04","4.05","3.8","3.67","2.83","2.86","3.14","3.46","3.35","3.06","3.14","4.5","3.85","2.86","3.04","3.42/6","2.96","2.22/3","4.15","3.17","3.54","3.17","3.65","3.27","4.2","3.06","2.3","2.43","3.03","3.47","2.4","2.86","4.15","4.26","3.55","3.66","3.07","3.75","3.16","3.84","3.65","4.16","2.2","4.46","3.03/4","3.46","3.16","2.23","4.9","3.35","3.74","3.47","3.68","4.18","4.67","3.77","4.08","3.46","3.88","3.68","4.57","3.88","4.88","3.78","4.6","3.57","4.59","4.67","3.57","3.96","3.35","4.810","2.53/4","4.910","3.76","4.5","3.88","3.0","3.84/6","4.0","3.75","3.5","3.98","4.4","4.28","5.010","5.010","4.69","4.18","4.65/7","4.37","4.49","2.32/3","4.4","5.79","4.09","4.16","3.98","4.58","6.0","3.57","5.210","4.39","4.07","3.57","5.04/6","3.94/6","3.37","4.8","3.34","6.7","4.16","4.07","2.96","6.09","3.86","4.0","5.910","3.75/7","4.4","2.0","5.18","2.14","1.73","1.63","1.73","2.33","–","1.7","2.3","1.92","2.6","1.73","1.73","2.53","1.73","1.73","–","1.84","1.7","1.94","2.02","2.7","–","1.83","0.9","1.62","2.5?","1.73","1.52","–","2.63","2.4?","1.73","0.9","1.73","1.9","1.73","2.6","1.72","1.83","2.2","1.83","1.9","1.52","1.73","–","1.8","2.53","1.73","?2","2.6","–","1.73","2.53","1.73"],["–","2.28","2.38","2.38","–","1.47","1.77","2.38","–","2.38","2.08","2.49","?8","1.87","2.08","–","1.0?","2.08","2.49","2.18","–","2.49","1.88","2.18","2.410","1.7","1.47","–","2.28","2.410","2.19","2.39","2.18","2.410","2.18","2.07","2.410","?8","2.18","2.08","–","–","2.410","2.28","2.28","–","2.08","1.97/8","2.39","1.56","2.39","1.87","2.28","2.08","–","2.210","2.39","–","2.1?","2.39","–","2.28","2.39","1.98","2.08","2.18","2.28","–","2.29","–","2.08","1.67","2.08","–","2.29","2.08","2.310","2.18","2.39","2.39","2.38","2.39","2.18","2.29","2.38","–","2.410","–","2.39","2.39","2.110","–","1.57","2.18","2.39","2.39","2.08","2.49","2.29","2.18","2.49","2.39","2.39","2.38","2.39","2.39","2.39","–","2.310","2.310","2.28","2.39","2.29","2.410","2.18","–","2.310","2.49","–","2.29","–","–","2.1","1.98","–","2.29","–","2.29","2.310","1.87","2.310","2.39","2.49","2.18","1.97","–","–","2.28","2.39","1.67","2.39","2.610/11","–","2.39","2.410","1.88","2.611","2.39","–","2.39","2.410","–","2.28","–","2.410","2.08","2.410","2.07","1.67","–","2.38","2.38","–","2.0","2.710","2.510","2.38","2.38","2.48","2.08","–","–","1.2","1.57","–","2.48","2.59","2.28","2.69","2.69","–","2.59","–","2.510","1.57","–","–","2.49","2.0","2.28","2.28/9","2.510","2.28","–","2.18","–","2.410","2.2","2.410","–","2.49","1.3","1.34","2.39","–","2.39","1.6","1.57","2.39","–","–","2.28","2.39","?9","–","2.0","2.49","2.710","2.49"],["–","1.56","1.46","1.56","–","1.36","1.56","1.46","–","1.56","1.67","1.56","?6","1.67","1.46","–","1.9?","1.98","1.56","1.66","–","1.56","1.67","1.67","1.56","1.2","1.26","–","1.77","1.56","1.67","1.56","1.67","1.56","1.77","1.98","1.56","?6","1.56","1.98","–","–","1.56","1.66","1.66","–","1.88","1.67","1.56","1.47","1.56","1.46","1.77","1.77","–","1.67","1.56","–","1.6?","1.67","–","1.66","1.56","1.77","1.97","1.66","1.76","–","1.66","–","1.77","1.36","1.97","–","1.56","1.56","1.67","1.26","1.56","1.66","1.97","1.66","1.67","1.67","1.56","–","1.67","–","1.76","1.67","1.67","–","1.36","1.66","1.66","1.67","1.98","1.67","1.77","1.98","1.66","1.67","1.77","1.56","1.67","1.77","1.67","–","1.67","1.46","1.56","1.67","1.66","1.46","1.88","–","1.77","1.66","–","1.77","–","–","1.2","1.46","–","1.77","–","1.77","1.77","1.58","1.57","1.77","1.77","1.66","2.09","–","–","1.46","1.77","1.46","1.77","1.46/7","–","1.77","1.66","1.77","1.78","1.77","–","1.67","1.77","–","1.56","–","1.87","1.97","1.77","1.36","1.16","–","1.66","1.56","–","1.9","1.66","1.66","1.66","1.66","1.67","1.97/8","–","–","1.7","1.56","–","1.67","1.67","1.56","1.67","1.67","–","1.67","–","1.66","1.78","–","–","1.46","2.1","1.56","1.56","1.36","1.76/7","–","1.66","?6","1.36","2.0","1.36","–","1.56","1.2","1.57","1.56","–","1.56","1.7","1.68","1.56","–","–","1.66","1.56","?6","–","1.6","1.56","1.87","1.56"],["–","1.15","1.46","1.15","–","0.94","1.46","1.46","–","1.36","1.15","1.36","?4","1.35","1.04","–","–","–","1.35","1.15","–","1.25","1.25","1.35","1.35","0.8","0.83","–","1.05","1.35","1.15","1.15","1.25","1.35","1.25","–","1.25","?5","1.15","–","–","–","1.25","1.04","1.15","–","–","1.04","1.25","0.82","1.15","1.04","1.05","1.15","–","1.15","1.25","–","1.1?","1.15","–","1.15","1.15","1.25","–","1.15","1.15","–","1.15","–","1.25","0.72","–","–","1.15","1.05","1.15","1.15","1.15","1.15","1.25","1.15","1.15","1.15","1.15","–","1.15","–","1.25","1.15","1.15","–","0.94","1.25","1.15","1.15","–","1.15","1.25","–","1.25","1.15","1.15","1.15","1.15","1.25","1.15","–","1.15","0.94","1.15","1.15","1.25","1.15","–","–","1.15","1.25","–","1.15","–","–","0.8","0.72","–","1.15","–","1.15","1.15","–","1.05","1.15","1.25","1.25","–","–","–","1.15","1.25","1.04","1.25","1.25","–","1.15","1.15","–","1.25","1.15","–","1.25","1.25","–","1.25","–","1.25","–","1.25","1.15","1.15","–","1.35","1.35","–","–","1.35","1.35","1.35","1.35","1.35","1.15","–","–","0.9","0.93","–","1.35","1.35","1.35","1.35","1.35","–","1.45","–","1.45","1.05","–","–","1.35","–","1.25","1.35","1.46","1.25","–","1.25","?5","1.46","–","1.46","–","1.45","0.7","0.82","1.35","–","1.35","0.8","0.92","1.35","–","–","1.25","1.35","?5","–","1.1","1.35","1.35","1.35"],["–","0.92","1.02","0.92","–","0.71","1.23","1.02","–","1.02","1.03","1.02","?2","1.34","1.02","–","–","–","1.02","0.92","–","0.92","1.23","0.82","1.02","1.0","0.81","–","–","1.02","0.92","0.92","1.02","1.02","1.13","–","0.92","–","0.92","–","–","–","0.92","1.03","0.92","–","–","0.82","0.92","1.03","0.92","0.92","–","1.13","–","0.92","0.92","–","0.9?","0.92","–","0.92","0.92","1.03","–","1.02","–","–","0.92","–","0.93","0.92","–","–","0.92","0.92","0.81","0.92","0.92","0.92","1.02","0.92","1.03","1.12","0.92","–","0.81","–","–","0.92","0.81","–","0.81","1.03","0.92","0.92","–","0.81","1.12","–","–","0.92","0.92","0.92","0.92","0.71","0.92","–","0.92","0.81","0.92","0.92","1.02","1.02","–","–","0.81","–","–","0.92","–","–","0.7","0.71","–","0.92","–","0.92","0.81","–","0.81","0.92","–","1.02","–","–","–","0.92","1.02","0.81","0.92","1.12","–","0.92","0.81","–","0.92","0.92","–","–","0.92","–","1.02","–","1.02","–","0.92","0.92","0.61","–","0.91","?1","–","–","1.02","0.92","0.92","0.92","0.92","0.81","–","–","0.6","0.61","–","0.92","0.92","?1","0.92","0.91","–","1.12","–","1.02","0.81","–","–","0.92","–","1.02","–","0.81","1.11/2","–","1.12","–","0.81","–","0.81","–","0.81","1.1","0.92","0.81","–","0.81","0.7","0.61","0.81","–","–","1.02","0.81","?1","–","–","0.81","–","0.81"],["–","0.41","0.62","0.62","–","0.41","0.52","0.62","–","0.72","0.41","0.72","?2","0.41","0.62","–","–","–","0.62","0.52","–","0.62","0.52","0.62","0.62","0.2","0.31","–","–","0.62","0.41","0.52","0.41","0.62","0.41","–","0.51","–","0.52","–","–","–","0.51","0.41","0.52","–","–","0.62","0.51","0.41","0.52","0.62","–","0.41","–","0.41","0.51","–","0.6?","0.51","–","0.52","0.51","0.31","–","0.52","–","–","0.51","–","0.52","0.42","–","–","0.51","0.52","0.41","0.52","0.52","0.51","0.41","0.51","0.52","0.62","0.41","–","0.41","–","–","0.51","0.52","–","0.42","0.52","0.51","0.51","–","0.41","0.62","–","–","0.51","0.51","0.41","0.51","0.41","0.51","–","0.51","0.41","0.41","0.51","0.52","0.52","–","–","0.51","–","–","0.51","–","–","0.6","0.30","–","0.51","–","0.50","0.41","–","0.41","0.51","–","0.52","–","–","–","0.41","0.51","0.20","0.51","0.62","–","0.51","0.52","–","0.41","0.51","–","–","0.51","–","0.52","–","0.41","–","0.51","0.41","0.31","–","0.51","–","–","–","0.41","0.51","0.51","0.50","0.52","0.41","–","–","0.2","0.30","–","0.52","0.51","?2","0.51","0.51","–","0.52","–","0.52","0.21","–","–","0.51","–","0.52","–","0.51","0.41/2","–","0.52","–","0.52","–","0.51","–","0.52","0.2","0.41","0.52","–","0.51","0.3","0.52","0.51","–","–","0.52","0.52","?2","–","–","0.52","0.83","0.52"],["–","?1","0.92","0.82","–","0.61","1.02","0.92","–","0.92","0.72","0.92","–","1.14","0.72","–","–","–","0.92","?1","–","0.72","1.02","0.82","0.92","0.5","0.61","–","–","0.92","0.72","0.72","0.51","0.92","1.14","–","0.82","–","?1","–","–","–","0.82","1.13","0.72","–","–","0.71","0.82","0.61","0.61","0.61","–","1.02","–","0.72","0.82","–","–","0.72","–","0.72","0.72","1.13","–","?1","–","–","0.72","–","0.72","0.51","–","–","0.61","0.92","0.72","0.51","0.61","0.61","0.51","0.61","0.61","?1","0.72","–","0.61","–","–","0.61","0.51","–","0.51","0.61","0.61","0.61","–","0.61","?1","–","–","0.61","0.61","0.72","0.61","0.61","0.61","–","0.61","0.61","0.72","0.61","?1","0.61","–","–","0.61","–","–","0.61","–","–","1.0","0.82","–","0.61","–","0.61","0.61","–","0.51","0.61","–","?1","–","–","–","0.72","0.61","0.72","0.61","0.72","–","0.61","0.61","–","0.51","0.61","–","–","0.61","–","?1","–","0.72","–","0.61","0.61","0.51","–","0.61","–","–","–","0.61","0.61","0.61","0.61","0.61","0.61","–","–","0.4","0.51","–","0.61","0.61","?2","0.51","0.51","–","0.72","–","0.72","0.62","–","–","0.72","–","?1","–","0.72","0.62","–","0.72","–","0.72","–","0.72","–","0.72","0.7","0.72","0.72","–","0.72","0.6","0.51","0.72","–","–","0.92","0.71","?2","–","–","0.61","0.62","0.61"],["–","?2","0.52","0.42","–","0.10","0.31","0.52","–","0.52","0.42","0.52","?2","0.42","0.42","–","–","–","0.52","?2","–","0.42","0.42","0.42","0.52","0.3","0.42","–","0.42","0.52","0.42","0.42","–","0.42","0.42","–","0.42","–","?2","–","–","–","0.42","0.42","0.42","–","–","0.42","0.42","0.42","0.42","0.42","0.42","0.52","–","0.42","0.42","0.42","0.4?","0.42","–","0.42","0.42","0.52","–","?2","0.42","–","0.42","–","0.42","0.42","–","–","0.42","0.42","0.42","0.42","0.42","0.42","–","0.42","0.42","?2","0.42","–","0.42","–","0.42","0.42","0.42","–","0.42","0.42","0.42","0.42","–","0.42","?2","–","0.42","0.42","0.42","0.42","0.42","0.42","0.42","–","0.42","0.31","0.42","0.42","?2","0.42","–","–","0.43","0.42","–","0.42","–","–","0.4","0.32","–","0.42","–","0.42","0.42","–","0.32","0.42","0.42","?2","–","–","–","0.42","0.42","0.42","0.42","0.42","–","0.42","0.42","–","0.42","0.42","–","0.42","0.42","–","?2","–","0.42","–","0.42","0.42","0.42","–","0.42","0.42","–","–","0.42","0.42","0.42","0.42","0.42","0.42","–","–","0.3","0.42","–","0.42","0.42","0.42","0.42","0.42","–","0.42","–","0.42","0.42","–","–","0.42","–","?2","0.42","0.42","0.42","–","0.42","0.42","0.42","–","0.42","–","0.42","0.3","0.42","0.42","–","0.42","0.8","0.63","0.42","–","–","0.42","0.42","0.42","–","–","0.42","0.31","0.42"],["–","?1","0.21","0.21","–","0.10","0.21","0.21","–","0.21","0.21","0.21","?1","0.21","0.21","–","–","–","0.21","?1","–","0.21","0.21","0.21","0.21","0.1","0.21","–","–","0.21","0.21","0.21","0.31","0.21","0.21","–","0.21","–","?1","–","–","–","0.31","0.21","0.21","–","–","0.21","0.31","0.10","0.21","0.21","–","0.21","–","0.21","0.31","–","0.2?","0.31","–","0.21","0.31","0.21","–","?1","–","–","0.31","–","0.21","0.10","–","–","0.21","0.31","0.31","0.31","0.21","0.21","0.31","0.31","0.31","?1","0.21","–","0.31","–","–","0.31","0.21","–","0.10","0.31","0.31","0.31","–","0.31","?1","–","–","0.31","0.31","0.21","0.31","0.31","0.31","–","0.31","0.41","0.21","0.31","?1","0.21","–","–","0.31","–","–","0.31","–","–","0.1","0.21","–","0.31","–","0.31","0.31","–","0.41","0.31","–","?1","–","–","–","0.21","0.31","0.10","0.31","0.21","–","0.31","0.31","–","0.21","0.31","–","–","0.31","–","?1","–","0.21","–","0.31","0.31","0.21","–","0.21","–","–","–","0.31","0.31","0.31","0.31","0.31","0.21","–","–","0.0","–","–","0.31","0.31","?1","0.31","0.31","–","0.31","–","0.31","–","–","–","0.31","–","?1","–","0.31","0.21","–","0.31","–","0.31","–","0.31","–","0.31","0.2","0.21","0.31","–","0.31","0.1","0.31","0.31","–","–","0.31","0.31","?1","–","–","0.31","0.31","0.31"],["–","?1","0.11","0.11","–","0.11","0.11","0.11","–","0.11","0.11","0.11","?1","0.11","0.11","–","–","–","0.11","?1","–","0.11","0.11","0.11","0.11","0.0","0.11","–","–","0.11","0.11","0.11","0.9[b]8","0.11","0.11","–","0.11","–","?1","–","–","–","0.11","0.11","0.11","–","–","0.11","0.11","0.11","0.11","0.11","–","0.11","–","0.11","0.11","–","–","0.11","–","0.11","0.11","0.11","–","?1","–","–","0.11","–","0.11","0.11","–","–","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","0.11","?1","0.11","–","0.11","–","–","0.11","0.11","–","0.11","0.11","0.11","0.11","–","0.11","?1","–","–","0.11","0.11","0.11","0.11","0.11","0.11","–","0.11","0.11","0.11","0.11","?1","0.11","–","–","0.11","–","–","0.11","–","–","0.1","0.11","–","0.11","–","0.11","0.11","–","0.11","0.11","–","?1","–","–","–","0.11","0.11","0.11","0.11","0.11","–","0.11","0.11","–","0.11","0.11","–","–","0.11","–","?1","–","0.11","–","0.11","0.11","0.11","–","0.11","–","–","–","0.11","0.11","0.11","0.11","0.11","0.11","–","–","0.1","–","–","0.11","0.11","?1","0.11","0.11","–","0.11","–","0.11","0.11","–","–","0.11","–","?1","–","0.11","0.11","–","0.11","–","0.11","–","0.11","–","0.11","0.3","0.11","0.11","–","0.11","0.0","–","0.11","–","–","0.11","0.11","?1","–","–","0.11","0.11","0.11"],["1.2","0.4","1.5","1.0","0.6","7.0","1.5","1.2","0.3","1.4","2.4","1.0","2.6","0.2","1.3","7.0","3.1","1.4","0.7","0.7","2.0","1.9","1.0","3.4","Tie","4.0","7.2","2.4","3.5","0.2","2.5","2.4","1.0","Tie","0.1","2.2","0.3","2.9","1.7","3.5","0.3","1.3","Tie","0.3","2.4","1.3","3.2","4.6","0.4","6.7","2.5","0.1","4.1","0.8","2.2","3.6","1.9","1.3","0.2","2.2","4.5","2.5","2.1","2.2","3.4","2.4","4.2","2.7","2.0","1.7","3.0","6.4","3.4","0.4","1.4","1.0","4.1","2.2","2.5","0.8","0.2","0.3","0.5","2.0","3.1","0.3","3.7","0.1","4.9","2.1","1.9","3.7","9.1","0.2","2.9","2.8","4.7","5.4","3.5","4.1","4.8","3.6","3.5","4.0","3.6","5.3","3.3","3.3","3.4","1.7","4.4","2.7","3.1","6.0","3.7","4.0","5.8","3.9","1.8","2.3","2.4","1.3","1.7","5.2","3.9","1.9","2.4","3.5","5.9","3.5","2.1","3.5","5.7","3.0","5.6","2.2","4.1","4.5","2.7","3.5","3.1","5.2","4.1","2.5","3.6","4.5","1.1","2.5","3.6","4.2","2.1","0.3","0.8","7.5","5.1","4.7","0.5","2.1","4.5","0.2","1.8","0.8","0.6","4.5","0.6","1.1","3.1","3.1","2.4","1.7","3.5","5.7","9.2","10.9","5.0","2.1","2.4","1.8","1.9","1.7","4.5","1.6","7.0","6.9","13.4","8.6","3.6","7.3","4.3","6.5","3.7","8.2","6.4","5.8","6.0","6.6","8.5","4.2","7.4","9.1","4.4","8.4","11.9","3.7","10.0","3.6","6.4","10.2","3.9","3.8","4.4","3.3","4.1","2.0","5.2","2.1","4.4","3.8","4.3"],[2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2022,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021,2021]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>casa<\/th>\n      <th>fechas<\/th>\n      <th>muestra<\/th>\n      <th>participacion<\/th>\n      <th>PSOE<\/th>\n      <th>PP<\/th>\n      <th>Vox<\/th>\n      <th>UP<\/th>\n      <th>Cs<\/th>\n      <th>ERC<\/th>\n      <th>MP<\/th>\n      <th>JxCat<\/th>\n      <th>PNV<\/th>\n      <th>EHBildu<\/th>\n      <th>CUP<\/th>\n      <th>CC<\/th>\n      <th>BNG<\/th>\n      <th>NA+<\/th>\n      <th>PRC<\/th>\n      <th>EV<\/th>\n      <th>ventaja<\/th>\n      <th>anno<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":22},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="convertir-a-numéricas-1" class="section level2">
<h2>
<span class="header-section-number">21.5</span> Convertir a numéricas<a class="anchor" aria-label="anchor" href="#convertir-a-num%C3%A9ricas-1"><i class="fas fa-link"></i></a>
</h2>
<p>Si te fijas los <mark><strong>valores de muchas variables son erróneos</strong></mark>, como tamaño de la muestra o participación: son de tipo texto cuando <strong>deberían ser numéricas</strong>.</p>
<div class="sourceCode" id="cb1853"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas</span></code></pre></div>
<pre><code>## # A tibble: 219 × 22
##    casa   fechas muestra participacion PSOE  PP    Vox   UP    Cs    ERC   MP   
##    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 DYM/H… 19–23… 1,008   ?             25.7… 26.9… 17.1… 11.6… 3.42… –     2.82…
##  2 KeyDa… 21 Jan ?       68.1          26.0… 25.6… 17.4… 11.5… 2.91  3.513 3.04 
##  3 Elect… 14–20… 1,190   ?             24.4… 22.9… 20.7… 12.7… 3.21  3.514 2.55 
##  4 Celes… 10–14… 1,100   ?             26.2… 27.2… 16.5… 11.0… 3.42  3.012 3.65 
##  5 InvyM… 10–14… ?       ?             27.3  27.9  16.5  10.9  1.3   –     3.0  
##  6 CIS[7… 3–14 … 3,777   ?             28.5… 21.5… 14.7… 13.1… 4.03  3.013 2.83 
##  7 IMOP/… 3–14 … 1,312   ?             26.4… 24.9… 17.9… 11.8… 2.61  3.414 2.53 
##  8 Elect… 7–13 … 1,317   ?             24.5… 23.3… 20.5… 12.4… 3.31  3.514 2.66 
##  9 Simpl… 3–13 … 1,039   63.0          24.6  24.3  18.7  11.1  2.5   –     2.3  
## 10 Elect… 31 De… 1,823   ?             24.9… 23.5… 20.2… 12.0… 3.21  3.514 2.65 
## # … with 209 more rows, and 11 more variables: JxCat &lt;chr&gt;, PNV &lt;chr&gt;,
## #   EHBildu &lt;chr&gt;, CUP &lt;chr&gt;, CC &lt;chr&gt;, BNG &lt;chr&gt;, NA+ &lt;chr&gt;, PRC &lt;chr&gt;,
## #   EV &lt;chr&gt;, ventaja &lt;chr&gt;, anno &lt;dbl&gt;</code></pre>
<p>Para ello vamos antes a <mark><strong>eliminar las comas</strong></mark><code>","</code> que separan los millares de los números, con <code><a href="https://rdrr.io/r/base/grep.html">gsub()</a></code>. Dicha orden nos permite <mark><strong>sustituir en un vector los caracteres</strong></mark> que queramos. Por ejemplo, de un vector de palabras vamos a cambiar la letra <code>a</code> por un punto <code><a href="https://rdrr.io/r/base/Arithmetic.html">*</a></code>: primero le indicamos el patrón a buscar, después el valor nuevo que le daremos, y por último la variable en la que lo vamos a aplicar.</p>
<div class="sourceCode" id="cb1855"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">variable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"hola"</span>, <span class="st">"cama"</span>, <span class="st">"elefante"</span>, <span class="st">"cerrojo"</span>, <span class="st">"león"</span>, <span class="st">"gata"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"*"</span>, <span class="va">variable</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] "hol*"     "c*m*"     "elef*nte" "cerrojo"  "león"     "g*t*"</code></pre>
<p>Con esta función localizaremos las <code>","</code> de <code>muestra</code> para sustituirlas por <code>""</code> (sin nada), y lo mismo haremos con <code>"?"</code> en la variable <code>participacion</code> con los datos ausentes <code>"?"</code>.</p>
<div class="sourceCode" id="cb1857"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">&lt;-</span>
  <span class="va">encuestas</span> <span class="op">%&gt;%</span>
  <span class="co"># Quitamos "," como millares en números</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>muestra <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"?"</span>, <span class="st">""</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">","</span>, <span class="st">""</span>, <span class="va">muestra</span><span class="op">)</span><span class="op">)</span>,
         participacion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"?"</span>, <span class="cn">NA</span>, <span class="va">participacion</span><span class="op">)</span><span class="op">)</span>
<span class="va">encuestas_depurado</span></code></pre></div>
<pre><code>## # A tibble: 219 × 22
##    casa   fechas muestra participacion PSOE  PP    Vox   UP    Cs    ERC   MP   
##    &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
##  1 DYM/H… 19–23… 1008    &lt;NA&gt;          25.7… 26.9… 17.1… 11.6… 3.42… –     2.82…
##  2 KeyDa… 21 Jan ?       &lt;NA&gt;          26.0… 25.6… 17.4… 11.5… 2.91  3.513 3.04 
##  3 Elect… 14–20… 1190    &lt;NA&gt;          24.4… 22.9… 20.7… 12.7… 3.21  3.514 2.55 
##  4 Celes… 10–14… 1100    &lt;NA&gt;          26.2… 27.2… 16.5… 11.0… 3.42  3.012 3.65 
##  5 InvyM… 10–14… ?       &lt;NA&gt;          27.3  27.9  16.5  10.9  1.3   –     3.0  
##  6 CIS[7… 3–14 … 3777    &lt;NA&gt;          28.5… 21.5… 14.7… 13.1… 4.03  3.013 2.83 
##  7 IMOP/… 3–14 … 1312    &lt;NA&gt;          26.4… 24.9… 17.9… 11.8… 2.61  3.414 2.53 
##  8 Elect… 7–13 … 1317    &lt;NA&gt;          24.5… 23.3… 20.5… 12.4… 3.31  3.514 2.66 
##  9 Simpl… 3–13 … 1039    &lt;NA&gt;          24.6  24.3  18.7  11.1  2.5   –     2.3  
## 10 Elect… 31 De… 1823    &lt;NA&gt;          24.9… 23.5… 20.2… 12.0… 3.21  3.514 2.65 
## # … with 209 more rows, and 11 more variables: JxCat &lt;chr&gt;, PNV &lt;chr&gt;,
## #   EHBildu &lt;chr&gt;, CUP &lt;chr&gt;, CC &lt;chr&gt;, BNG &lt;chr&gt;, NA+ &lt;chr&gt;, PRC &lt;chr&gt;,
## #   EV &lt;chr&gt;, ventaja &lt;chr&gt;, anno &lt;dbl&gt;</code></pre>
<p>Tras estos cambios, aunque muchas variables numéricas siguen siendo caracter, ya podemos aplicar la función <code><a href="https://rdrr.io/r/base/numeric.html">as.numeric()</a></code>, que aplicaremos a todas las variables menos <code>casa</code> y <code>fechas</code>, con <code>mutate_at</code>, indicándole con <code><a href="https://rdrr.io/pkg/dplyr/man/vars.html">vars()</a></code> primero las columnas a seleccionar (aquellas que no contengan la palabra <code>casa</code> ni <code>fechas</code>), y después la función a aplicar.</p>
<div class="sourceCode" id="cb1859"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">&lt;-</span>
  <span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate_all.html">mutate_at</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/vars.html">vars</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/pkg/tidyselect/man/starts_with.html">contains</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"casa"</span>, <span class="st">"fechas"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, <span class="va">as.numeric</span><span class="op">)</span>
<span class="va">encuestas_depurado</span></code></pre></div>
<pre><code>## # A tibble: 219 × 22
##    casa   fechas muestra participacion  PSOE    PP   Vox    UP    Cs   ERC    MP
##    &lt;chr&gt;  &lt;chr&gt;    &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 DYM/H… 19–23…    1008            NA  NA    NA    NA    NA   NA    NA    NA   
##  2 KeyDa… 21 Jan      NA            NA  26.0  25.6  17.5  11.5  2.91  3.51  3.04
##  3 Elect… 14–20…    1190            NA  24.5  23.0  20.8  12.7  3.21  3.51  2.55
##  4 Celes… 10–14…    1100            NA  26.2  27.2  16.6  11.0  3.42  3.01  3.65
##  5 InvyM… 10–14…      NA            NA  27.3  27.9  16.5  10.9  1.3  NA     3   
##  6 CIS[7… 3–14 …    3777            NA  28.5  21.6  14.8  13.1  4.03  3.01  2.83
##  7 IMOP/… 3–14 …    1312            NA  26.4  24.9  18.0  11.8  2.61  3.41  2.53
##  8 Elect… 7–13 …    1317            NA  24.6  23.4  20.6  12.4  3.31  3.51  2.66
##  9 Simpl… 3–13 …    1039            NA  24.6  24.3  18.7  11.1  2.5  NA     2.3 
## 10 Elect… 31 De…    1823            NA  25.0  23.6  20.3  12.0  3.21  3.51  2.65
## # … with 209 more rows, and 11 more variables: JxCat &lt;dbl&gt;, PNV &lt;dbl&gt;,
## #   EHBildu &lt;dbl&gt;, CUP &lt;dbl&gt;, CC &lt;dbl&gt;, BNG &lt;dbl&gt;, NA+ &lt;dbl&gt;, PRC &lt;dbl&gt;,
## #   EV &lt;dbl&gt;, ventaja &lt;dbl&gt;, anno &lt;dbl&gt;</code></pre>
</div>
<div id="convertir-las-fechas-de-campo-1" class="section level2">
<h2>
<span class="header-section-number">21.6</span> Convertir las fechas de campo<a class="anchor" aria-label="anchor" href="#convertir-las-fechas-de-campo-1"><i class="fas fa-link"></i></a>
</h2>
<p>Las <mark><strong>fechas del trabajo de campo</strong></mark> deben ser tratadas previamente:</p>
<ul>
<li><p>las fechas de tipo <code>"28 Dec–2 Jan"</code> (por ejemplo, de 2021) deberemos de convertirlas en dos fechas, <code>2021-12-28</code> y <code>2022-01-02</code>.</p></li>
<li><p>las fechas de tipo <code>"12–14 Jan"</code> (por ejemplo, de 2021) deberemos de convertirlas en dos fechas, <code>2021-01-12</code> y <code>2021-01-14</code>.</p></li>
<li><p>las fechas de tipo <code>"15 Jan"</code> (por ejemplo, de 2021), las convertiremos a dos fechas, <code>2021-01-15</code> y <code>2021-01-15</code>.</p></li>
</ul>
<p>Para ello primero que vamos a hacer va a ser <mark><strong>separar las fechas por los guiones <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code></strong></mark> con <code>str_plit()</code> (que nos devolverá una lista).</p>
<div class="sourceCode" id="cb1861"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fechas_intermedias</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_split.html">str_split</a></span><span class="op">(</span><span class="va">encuestas_depurado</span><span class="op">$</span><span class="va">fechas</span>, <span class="st">"–"</span><span class="op">)</span>
<span class="va">fechas_intermedias</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></code></pre></div>
<pre><code>## [[1]]
## [1] "19"     "23 Jan"
## 
## [[2]]
## [1] "21 Jan"
## 
## [[3]]
## [1] "14"     "20 Jan"
## 
## [[4]]
## [1] "10"     "14 Jan"
## 
## [[5]]
## [1] "10"     "14 Jan"
## 
## [[6]]
## [1] "3"      "14 Jan"</code></pre>
<p>En cada lugar de la lista vemos que tenemos dos fechas en la mayoría de casos: las pondremos en columnas <code>fecha_inicio</code> y <code>fecha_inicial</code>, devolviendo un <code>tibble</code> con <code>map_dfr</code> aplicado a la lista</p>
<div class="sourceCode" id="cb1863"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fechas_intermedias</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/pkg/purrr/man/map.html">map_dfr</a></span><span class="op">(</span><span class="va">fechas_intermedias</span>,
          <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span> <span class="fu"><a href="https://rdrr.io/pkg/tibble/man/tibble.html">tibble</a></span><span class="op">(</span><span class="st">"fecha_inicio"</span> <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,
                               <span class="st">"fecha_final"</span> <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="op">}</span><span class="op">)</span>
<span class="va">fechas_intermedias</span></code></pre></div>
<pre><code>## # A tibble: 219 × 2
##    fecha_inicio fecha_final
##    &lt;chr&gt;        &lt;chr&gt;      
##  1 19           23 Jan     
##  2 21 Jan       &lt;NA&gt;       
##  3 14           20 Jan     
##  4 10           14 Jan     
##  5 10           14 Jan     
##  6 3            14 Jan     
##  7 3            14 Jan     
##  8 7            13 Jan     
##  9 3            13 Jan     
## 10 31 Dec       6 Jan      
## # … with 209 more rows</code></pre>
<p>Los registros donde <code>fecha_final</code> está ausente significa que toma el mismo valor que la fecha de inicio, y así lo modificaremos.</p>
<div class="sourceCode" id="cb1865"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fechas_intermedias</span> <span class="op">&lt;-</span>
  <span class="va">fechas_intermedias</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>fecha_final <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">fecha_final</span><span class="op">)</span>,
                              <span class="va">fecha_inicio</span>, <span class="va">fecha_final</span><span class="op">)</span><span class="op">)</span>
<span class="va">fechas_intermedias</span></code></pre></div>
<pre><code>## # A tibble: 219 × 2
##    fecha_inicio fecha_final
##    &lt;chr&gt;        &lt;chr&gt;      
##  1 19           23 Jan     
##  2 21 Jan       21 Jan     
##  3 14           20 Jan     
##  4 10           14 Jan     
##  5 10           14 Jan     
##  6 3            14 Jan     
##  7 3            14 Jan     
##  8 7            13 Jan     
##  9 3            13 Jan     
## 10 31 Dec       6 Jan      
## # … with 209 more rows</code></pre>
<p>Las fechas que no tenga mes en <code>fecha_inicio</code>, asumiremos que es el mismo mes que <code>fecha_final</code>: si solo hay números (dos o menos caracteres), obtenemos el mes de la <code>fecha_final</code> (últimos 3 caracteres) y lo pegamos al día.</p>
<div class="sourceCode" id="cb1867"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fechas_intermedias</span> <span class="op">&lt;-</span>
  <span class="va">fechas_intermedias</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>fecha_inicio <span class="op">=</span>
           <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span><span class="op">(</span><span class="va">fecha_inicio</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fl">2</span>,
                  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">fecha_inicio</span>,
                        <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_split.html">str_split</a></span><span class="op">(</span><span class="va">fecha_final</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>,
                               collapse <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span>, <span class="va">fecha_inicio</span><span class="op">)</span><span class="op">)</span>
<span class="va">fechas_intermedias</span></code></pre></div>
<pre><code>## # A tibble: 219 × 2
##    fecha_inicio fecha_final
##    &lt;chr&gt;        &lt;chr&gt;      
##  1 19 Jan       23 Jan     
##  2 21 Jan       21 Jan     
##  3 14 Jan       20 Jan     
##  4 10 Jan       14 Jan     
##  5 10 Jan       14 Jan     
##  6 3 Jan        14 Jan     
##  7 3 Jan        14 Jan     
##  8 7 Jan        13 Jan     
##  9 3 Jan        13 Jan     
## 10 31 Dec       6 Jan      
## # … with 209 more rows</code></pre>
<p>Esas fechas intermedias las vamos añadir como columnas y, pegándole el año, <strong>vamos a convertirlas en datos de tipo fecha</strong>. De todas las fechas nos vamos a quedar solo con la <code>fecha_final</code> (recolocando dicha columna tras el nombre de la casa encuestadora).</p>
<div class="sourceCode" id="cb1869"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span>
<span class="va">encuestas_depurado</span> <span class="op">&lt;-</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/bind.html">bind_cols</a></span><span class="op">(</span><span class="va">encuestas_depurado</span>,
            <span class="va">fechas_intermedias</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>fecha_inicio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/ymd.html">dmy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">fecha_inicio</span>, <span class="va">anno</span><span class="op">)</span><span class="op">)</span>,
         fecha_final <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/lubridate/man/ymd.html">dmy</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="va">fecha_final</span>, <span class="va">anno</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">fechas</span>, <span class="va">anno</span>, <span class="va">fecha_inicio</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/relocate.html">relocate</a></span><span class="op">(</span><span class="va">fecha_final</span>, .after <span class="op">=</span> <span class="va">casa</span><span class="op">)</span>
<span class="va">encuestas_depurado</span></code></pre></div>
<pre><code>## # A tibble: 219 × 21
##    casa    fecha_final muestra participacion  PSOE    PP   Vox    UP    Cs   ERC
##    &lt;chr&gt;   &lt;date&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 DYM/He… 2022-01-23     1008            NA  NA    NA    NA    NA   NA    NA   
##  2 KeyDat… 2022-01-21       NA            NA  26.0  25.6  17.5  11.5  2.91  3.51
##  3 Electo… 2022-01-20     1190            NA  24.5  23.0  20.8  12.7  3.21  3.51
##  4 Celest… 2022-01-14     1100            NA  26.2  27.2  16.6  11.0  3.42  3.01
##  5 InvyMa… 2022-01-14       NA            NA  27.3  27.9  16.5  10.9  1.3  NA   
##  6 CIS[7]… 2022-01-14     3777            NA  28.5  21.6  14.8  13.1  4.03  3.01
##  7 IMOP/E… 2022-01-14     1312            NA  26.4  24.9  18.0  11.8  2.61  3.41
##  8 Electo… 2022-01-13     1317            NA  24.6  23.4  20.6  12.4  3.31  3.51
##  9 Simple… 2022-01-13     1039            NA  24.6  24.3  18.7  11.1  2.5  NA   
## 10 Electo… 2022-01-06     1823            NA  25.0  23.6  20.3  12.0  3.21  3.51
## # … with 209 more rows, and 11 more variables: MP &lt;dbl&gt;, JxCat &lt;dbl&gt;,
## #   PNV &lt;dbl&gt;, EHBildu &lt;dbl&gt;, CUP &lt;dbl&gt;, CC &lt;dbl&gt;, BNG &lt;dbl&gt;, NA+ &lt;dbl&gt;,
## #   PRC &lt;dbl&gt;, EV &lt;dbl&gt;, ventaja &lt;dbl&gt;</code></pre>
</div>
<div id="limpiamos-nombres-de-encuestas-1" class="section level2">
<h2>
<span class="header-section-number">21.7</span> Limpiamos nombres de encuestas<a class="anchor" aria-label="anchor" href="#limpiamos-nombres-de-encuestas-1"><i class="fas fa-link"></i></a>
</h2>
<p>Por último, vamos <mark><strong>limpiar los nombres de las encuestas</strong></mark> eliminando la referencia a los enlaces de la wikipedia</p>
<div class="sourceCode" id="cb1871"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">&lt;-</span>
  <span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span>
  <span class="co"># Limpiamos nombre encuestas</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>casa <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">toupper</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/purrr/man/map.html">map_chr</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/stringr/man/str_split.html">str_split</a></span><span class="op">(</span><span class="va">casa</span>, <span class="st">"\\["</span><span class="op">)</span>,
                                <span class="kw">function</span> <span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">{</span> <span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">}</span> <span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-ae48e6d6199c7ebfdc38" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ae48e6d6199c7ebfdc38">{"x":{"filter":"none","caption":"<caption>Encuestas depuradas de 2021 y 2022<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219"],["DYM/HENNEO","KEYDATA/PÚBLICO","ELECTOPANEL/ELECTOMANÍA","CELESTE-TEL/ONDA CERO","INVYMARK/LASEXTA","CIS","IMOP/EL CONFIDENCIAL","ELECTOPANEL/ELECTOMANÍA","SIMPLE LÓGICA/ELDIARIO.ES","ELECTOPANEL/ELECTOMANÍA","DATA10/OKDIARIO","ELECTOPANEL/ELECTOMANÍA","40DB/PRISA","IMOP/EL CONFIDENCIAL","SOCIOMÉTRICA/EL ESPAÑOL","PSOE","SIGMA DOS/ANTENA 3","SIGMA DOS/EL MUNDO","ELECTOPANEL/ELECTOMANÍA","KEYDATA/PÚBLICO","DYM/HENNEO","CELESTE-TEL/ONDA CERO","IMOP/EL CONFIDENCIAL","GAD3/ABC","ELECTOPANEL/ELECTOMANÍA","CIS (SOCIOMÉTRICA)","CIS","SIMPLE LÓGICA","NC REPORT/LA RAZÓN","ELECTOPANEL/ELECTOMANÍA","DATA10/OKDIARIO","HAMALGAMA MÉTRICA/VOZPÓPULI","ÁGORA INTEGRAL/CANARIAS AHORA","ELECTOPANEL/ELECTOMANÍA","IMOP/EL CONFIDENCIAL","SIGMA DOS/EL MUNDO","ELECTOPANEL/ELECTOMANÍA","SW DEMOSCOPIA/PUBLICACIONES SUR","KEYDATA/PÚBLICO","SIGMA DOS/ANTENA 3","DYM/HENNEO","INVYMARK/LASEXTA","ELECTOPANEL/ELECTOMANÍA","IMOP/EL CONFIDENCIAL","CELESTE-TEL/ONDA CERO","SIMPLE LÓGICA","SIGMA DOS/EL MUNDO","GAD3/NIUS","ELECTOPANEL/ELECTOMANÍA","CIS","HAMALGAMA MÉTRICA/VOZPÓPULI","SOCIOMÉTRICA/EL ESPAÑOL","NC REPORT/LA RAZÓN","IMOP/EL CONFIDENCIAL","INVYMARK/LASEXTA","DATA10/OKDIARIO","ELECTOPANEL/ELECTOMANÍA","METROSCOPIA","SW DEMOSCOPIA","ELECTOPANEL/ELECTOMANÍA","DYM/HENNEO","CELESTE-TEL/ONDA CERO","ELECTOPANEL/ELECTOMANÍA","IMOP/EL CONFIDENCIAL","SIGMA DOS/EL MUNDO","KEYDATA/PÚBLICO","NC REPORT/LA RAZÓN","INVYMARK/LASEXTA","ELECTOPANEL/ELECTOMANÍA","SIMPLE LÓGICA","GAD3/ABC","CIS","SIGMA DOS/ANTENA 3","METROSCOPIA","ELECTOPANEL/ELECTOMANÍA","IMOP/EL CONFIDENCIAL","DATA10/OKDIARIO","SOCIOMÉTRICA/EL ESPAÑOL","HAMALGAMA MÉTRICA/VOZPÓPULI","ELECTOPANEL/ELECTOMANÍA","ÁGORA INTEGRAL/CANARIAS AHORA","ELECTOPANEL/ELECTOMANÍA","IMOP/EL CONFIDENCIAL","KEYDATA/PÚBLICO","CELESTE-TEL/ONDA CERO","METROSCOPIA","DATA10/OKDIARIO","DYM/HENNEO","NC REPORT/LA RAZÓN","ELECTOPANEL/ELECTOMANÍA","GAD3/NIUS","SIMPLE LÓGICA","CIS","IMOP/EL CONFIDENCIAL","ELECTOPANEL/ELECTOMANÍA","ELECTOPANEL/ELECTOMANÍA","SIGMA DOS/EL MUNDO","DATA10/OKDIARIO","KEYDATA/PÚBLICO","SIGMA DOS/ANTENA 3","NC REPORT/LA RAZÓN","ELECTOPANEL/ELECTOMANÍA","ELECTOPANEL/ELECTOMANÍA","CELESTE-TEL/ONDA CERO","ELECTOPANEL/ELECTOMANÍA","DATA10/OKDIARIO","ELECTOPANEL/ELECTOMANÍA","SIMPLE LÓGICA","ELECTOPANEL/ELECTOMANÍA","SOCIOMÉTRICA/EL ESPAÑOL","CELESTE-TEL/ONDA CERO","ELECTOPANEL/ELECTOMANÍA","KEYDATA/PÚBLICO","GAD3/ABC","SIGMA DOS/ANTENA 3","DYM/HENNEO","DATA10/OKDIARIO","NC REPORT/LA RAZÓN","INVYMARK/LASEXTA","ELECTOPANEL/ELECTOMANÍA","METROSCOPIA","GESOP/EL PERIÓDICO","CIS (SOCIOMÉTRICA)","CIS","SIMPLE LÓGICA","ELECTOPANEL/ELECTOMANÍA","INVYMARK/LASEXTA","ELECTOPANEL/ELECTOMANÍA","DATA10/OKDIARIO","SIGMA DOS/EL MUNDO","SOCIOMÉTRICA/EL ESPAÑOL","ELECTOPANEL/ELECTOMANÍA","NC REPORT/LA RAZÓN","KEYDATA/PÚBLICO","SIGMA DOS/ANTENA 3","DYM/HENNEO","METROSCOPIA","CELESTE-TEL/ONDA CERO","ELECTOPANEL/ELECTOMANÍA","CIS","ELECTOPANEL/ELECTOMANÍA","GAD3/NIUS","SIMPLE LÓGICA","ELECTOPANEL/ELECTOMANÍA","DATA10/OKDIARIO","SIGMA DOS/EL MUNDO","SOCIOMÉTRICA/EL ESPAÑOL","ELECTOPANEL/ELECTOMANÍA","DYM/HENNEO","NC REPORT/LA RAZÓN","ELECTOPANEL/ELECTOMANÍA","INVYMARK/LASEXTA","KEYDATA/PÚBLICO","METROSCOPIA","GAD3/ABC","SIGMA DOS/ANTENA 3","ELECTOPANEL/ELECTOMANÍA","CELESTE-TEL/ONDA CERO","CIS","SIMPLE LÓGICA","HAMALGAMA MÉTRICA/OKDIARIO","NC REPORT/LA RAZÓN","INVYMARK/LASEXTA","SIGMA DOS/EL MUNDO","DEMOSCOPIA Y SERVICIOS/ESDIARIO","ELECTOPANEL/ELECTOMANÍA","ELECTOPANEL/ELECTOMANÍA","ELECTOPANEL/ELECTOMANÍA","ELECTOPANEL/ELECTOMANÍA","GAD3/NIUS","INVYMARK/LASEXTA","METROSCOPIA","CIS (SOCIOMÉTRICA)","CIS","SIMPLE LÓGICA","ELECTOPANEL/ELECTOMANÍA","ELECTOPANEL/ELECTOMANÍA","NC REPORT/LA RAZÓN","ELECTOPANEL/ELECTOMANÍA","ELECTOPANEL/ELECTOMANÍA","INVYMARK/LASEXTA","ELECTOPANEL/ELECTOMANÍA","METROSCOPIA","ELECTOPANEL/ELECTOMANÍA","CIS","SIMPLE LÓGICA","INVYMARK/LASEXTA","ELECTOPANEL/ELECTOMANÍA","SIGMA DOS/EL MUNDO","KEYDATA/PÚBLICO","NC REPORT/LA RAZÓN","ELECTOPANEL/ELECTOMANÍA","GAD3/NIUS","DYM/HENNEO","CELESTE-TEL/ONDA CERO","HAMALGAMA MÉTRICA/OKDIARIO","ELECTOPANEL/ELECTOMANÍA","SIGMA DOS/EL MUNDO","ELECTOPANEL/ELECTOMANÍA","METROSCOPIA","ELECTOPANEL/ELECTOMANÍA","CIS (SOCIOMÉTRICA)","CIS","ELECTOPANEL/ELECTOMANÍA","SIMPLE LÓGICA","ELECTOPANEL/ELECTOMANÍA","CIS (SOCIOMÉTRICA)","CIS","ELECTOPANEL/ELECTOMANÍA","INVYMARK/LASEXTA","METROSCOPIA","CELESTE-TEL/ONDA CERO","ELECTOPANEL/ELECTOMANÍA","HAMALGAMA MÉTRICA/OKDIARIO","SIMPLE LÓGICA","SYM CONSULTING","ELECTOPANEL/ELECTOMANÍA","SOCIOMÉTRICA/EL ESPAÑOL","ELECTOPANEL/ELECTOMANÍA"],["2022-01-23","2022-01-21","2022-01-20","2022-01-14","2022-01-14","2022-01-14","2022-01-14","2022-01-13","2022-01-13","2022-01-06","2022-01-05","2021-12-30","2021-12-30","2021-12-30","2021-12-30","2021-12-27","2021-12-26","2021-12-24","2021-12-23","2021-12-22","2021-12-19","2021-12-17","2021-12-17","2021-12-16","2021-12-16","2021-12-13","2021-12-13","2021-12-13","2021-12-11","2021-12-10","2021-12-09","2021-12-09","2021-12-05","2021-12-03","2021-12-03","2021-12-01","2021-11-26","2021-11-24","2021-11-22","2021-11-22","2021-11-21","2021-11-19","2021-11-19","2021-11-19","2021-11-16","2021-11-15","2021-11-11","2021-11-11","2021-11-11","2021-11-11","2021-11-10","2021-11-08","2021-11-06","2021-11-06","2021-11-05","2021-11-04","2021-11-04","2021-11-04","2021-10-30","2021-10-29","2021-10-24","2021-10-22","2021-10-22","2021-10-22","2021-10-21","2021-10-20","2021-10-15","2021-10-15","2021-10-15","2021-10-15","2021-10-14","2021-10-13","2021-10-11","2021-10-10","2021-10-08","2021-10-08","2021-10-07","2021-10-07","2021-10-06","2021-10-01","2021-09-27","2021-09-24","2021-09-24","2021-09-23","2021-09-21","2021-09-20","2021-09-20","2021-09-19","2021-09-18","2021-09-17","2021-09-16","2021-09-16","2021-09-13","2021-09-10","2021-09-09","2021-09-03","2021-09-02","2021-09-01","2021-08-30","2021-08-30","2021-08-27","2021-08-26","2021-08-21","2021-08-20","2021-08-13","2021-08-06","2021-08-06","2021-08-04","2021-07-30","2021-07-29","2021-07-23","2021-07-23","2021-07-22","2021-07-22","2021-07-19","2021-07-19","2021-07-17","2021-07-16","2021-07-16","2021-07-16","2021-07-15","2021-07-15","2021-07-15","2021-07-15","2021-07-12","2021-07-10","2021-07-02","2021-07-02","2021-07-01","2021-07-01","2021-06-27","2021-06-26","2021-06-26","2021-06-21","2021-06-21","2021-06-21","2021-06-20","2021-06-18","2021-06-18","2021-06-15","2021-06-11","2021-06-10","2021-06-09","2021-06-04","2021-06-03","2021-06-01","2021-05-29","2021-05-28","2021-05-24","2021-05-22","2021-05-22","2021-05-21","2021-05-20","2021-05-20","2021-05-18","2021-05-17","2021-05-15","2021-05-14","2021-05-13","2021-05-12","2021-05-11","2021-05-08","2021-05-07","2021-05-06","2021-05-06","2021-05-06","2021-05-02","2021-04-24","2021-04-17","2021-04-16","2021-04-16","2021-04-15","2021-04-14","2021-04-14","2021-04-13","2021-04-09","2021-04-02","2021-03-31","2021-03-26","2021-03-20","2021-03-19","2021-03-15","2021-03-15","2021-03-13","2021-03-11","2021-03-09","2021-03-05","2021-03-05","2021-03-03","2021-03-01","2021-02-28","2021-02-27","2021-02-25","2021-02-23","2021-02-23","2021-02-22","2021-02-20","2021-02-17","2021-02-16","2021-02-15","2021-02-12","2021-02-11","2021-02-11","2021-02-06","2021-02-05","2021-01-29","2021-01-25","2021-01-25","2021-01-22","2021-01-22","2021-01-15","2021-01-15","2021-01-15","2021-01-14","2021-01-13","2021-01-10","2021-01-09","2021-01-05","2021-01-02"],[1008,null,1190,1100,null,3777,1312,1317,1039,1823,1000,1189,2000,1315,3000,null,null,2619,1299,null,1012,1100,1297,1003,1305,3733,3733,1041,1000,2177,1000,1000,1500,1132,1316,1633,null,610,null,null,1021,null,1564,1343,1100,1026,1688,1001,1502,3779,1000,1200,1000,1342,null,1000,1479,2400,1203,1228,1000,1100,1822,1338,1928,null,1000,null,1863,1056,1001,3660,null,null,2119,1317,1000,1200,1000,1193,1000,1651,1304,null,1100,null,1000,1000,1000,1233,1002,1027,3780,1309,1084,1640,1050,1000,null,null,1000,1422,2208,1100,1399,1000,1170,1062,877,1200,1100,1601,null,1030,null,1019,1000,1000,null,2001,null,802,3798,3798,1076,1883,null,2539,1000,1020,null,1627,1000,null,null,1002,null,1100,1332,3814,1673,1026,1017,1462,1000,1000,1100,1272,1008,1000,1582,null,null,null,1202,null,1930,1100,3814,1063,1000,1000,null,1000,1000,1825,4320,3125,2450,1001,null,null,3823,3823,1053,2300,2000,1000,2000,2513,null,2400,null,2576,3820,1023,null,1406,1096,null,1000,1406,1000,1002,1100,1000,1406,1145,1240,null,2530,3869,3869,1814,1054,1493,3862,3862,1470,null,null,1100,1382,1000,1045,2915,1562,1206,1321],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,26.0106,24.494,26.2102,27.3,28.5128,26.4105,24.592,24.6,24.995,25.498,24.995,null,25.2102,25.5103,29,25.7102,26.0102,25.3101,25.7103,null,26.0102,25.7103,25.199,25.3102,24.7,28.0122,25.5,null,25.5102,25.61,25.799,25.5101,25.8102,25.7104,26.4106,25.9104,25.9106,25.6102,25.8101,null,26.7,25.7101,27.1107,26.1102,24.3,25.91,null,25.8104,27.6122,25.81,25.4105,null,26.3104,26,25.298,25.499,26.5107,null,25.598,null,26.4103,25.81,25.8101,25.599,25.8103,null,25.7,26.2102,23.8,26.2103,28.5128,25.11,26.6,26.6105,25.8101,24.998,25.099,26.2103,26.7106,26.1103,27.2108,26.1103,26.0104,26.1103,26.5,25.01,null,null,26.0103,null,26.2,29.613,26.6108,25.7102,25.397,24.498,24.598,25.3101,24.899,null,25.096,25.096,25.7102,25.096,24.799,25.098,27.9,25.098,24.7101,25.6101,25.499,25.2102,25.1101,25.1103,null,24.597,null,26.2,25.499,26,null,25.1,28.6128,23,26.0101,25.9,24.995,24.396,25.9103,24.196,25.197,null,25.2103,24.596,null,26.1,25.398,25.9102,27.4122,25.399,null,23,25.498,25.5103,25.01,25.4102,25.497,null,null,25.297,26.9,26.211,22.8,25.4103,26.0101,26.4107,26.01,27.9124,26,25.599,null,26.7,25.7,25.3107,26.9108,27.1113,27.0112,26.6107,null,28,29.8,30,31.5136,27.9,26.2106,26.5107,null,26.4107,26.2105,28.4,26.2103,27.9,29.9123,31.314,27.1,26.8,28.5118,27.2,27.8119,null,29.0121,null,null,28.3118,28.7118,29.4123,27.6,29.0123,28.7,27.3117,28.1,30.7141,27.2117,28.8,27.0116,28.6,30.7139,27.1116,27,27.2,27.0113,27.2118,26.4109,26.3,26.7,27.2117,26.7112,27.3117],[null,25.6106,22.994,27.2115,27.9,21.594,24.9103,23.396,24.3,23.598,27.8117,23.998,null,25.0102,24.2101,22,28.8125,27.4118,24.699,26.4113,null,27.9118,24.7101,28.5122,25.3101,20.7,20.892,23.1,null,25.7105,28.1119,28.1118,24.5104,25.8105,25.8105,28.6126,26.2109,23.097,27.3116,29.313,null,28,25.7105,26.8113,28.5121,23,29.113,null,26.2107,20.992,28.312,25.5107,null,27.1117,28.2,28.8126,27.3116,25.2104,null,27.7117,null,28.9123,27.9118,28.012,28.9129,28.2121,null,28.4,28.2119,25.5,29.2123,22.199,28.513,26.2,28.0118,26.8115,29.0127,27.2118,28.7121,27.5114,26.3118,27.5117,26.6113,28.012,29.2124,26.2,28.7126,null,null,28.112,null,22.5,20.592,26.4113,28.6121,28.112,29.1131,29.8129,28.8125,28.9132,null,28.6124,28.5122,29.7129,28.6124,30.0131,28.312,24.6,28.4121,26.4116,30.0131,28.112,28.3122,31.1139,28.813,null,30.3133,null,28,27.7117,28.4,null,26.8,23.4103,26.9,27.9118,28.3,28.4124,30.2134,29.413,26.2115,28.6123,null,28.2121,30.1133,null,30.2,29.8131,28.6121,23.9103,28.4121,null,27.1,27.9121,28.7124,29.5132,26.5114,27.9121,null,null,27.3119,27.2,27.0115,30.3,30.5138,30.7133,26.9115,28.1117,23.4103,26.2,27.3111,null,27.3,30.2,25.9113,25.811,24.01,23.999,24.299,null,24.5,24.1,20.8,20.688,22.9,24.199,24.1101,null,24.5104,24.5103,23.9,24.6103,20.9,23.092,17.974,17.5,23.2,21.29,22.9,21.39,null,20.884,null,null,22.396,22.191,20.988,23.4,21.689,19.6,22.997,19.7,18.878,23.5101,18.8,23.4102,22.2,20.588,23.2101,23.2,22.8,23.7101,23.197,24.4103,21.1,24.6,22.896,22.997,23.097],[null,17.464,20.778,16.559,16.5,14.75,17.966,20.577,18.7,20.276,17.06,19.975,null,18.667,17.765,17,15.752,16.658,19.57,17.159,null,16.155,19.168,17.156,18.769,18.8,14.649,19.4,null,18.567,16.556,16.357,16.958,18.166,18.264,15.047,17.962,18.868,16.456,15.247,null,16.6,18.267,16.757,15.452,18.3,15.448,null,17.961,14.348,16.155,16.858,null,16.451,16.9,16.252,17.458,18.066,null,17.358,null,15.15,17.357,15.952,15.047,15.753,null,16.6,16.755,17.6,15.451,13.241,14.645,17,16.954,16.858,16.052,16.355,15.953,17.056,15.454,16.552,17.059,15.552,15.15,18.1,16.152,null,null,16.453,null,17.7,13.843,16.556,16.253,16.355,14.947,15.551,15.149,14.746,null,16.354,16.355,14.848,16.354,15.35,16.455,15.9,16.555,16.156,14.947,17.056,15.752,12.437,14.144,null,15.449,null,17.7,17.358,14.7,null,15.6,13.641,17.4,16.755,18.1,16.354,15.549,14.444,16.658,16.254,null,15.852,15.548,null,14.6,15.549,15.851,13.041,16.254,null,17,16.855,15.852,15.451,16.96,16.755,null,null,16.455,18.4,16.454,12.2,13.84,15.749,15.852,16.259,13.743,15.9,17.967,null,18.9,15.2,16.961,16.657,16.959,16.959,17.263,null,18.3,17.6,18.8,15.453,17.6,17.061,16.86,null,16.656,16.757,18.6,16.656,19.9,18.164,15.053,18.5,17.4,18.968,17.4,17.764,null,19.07,null,null,18.26,19.164,18.465,15.6,17.963,19.1,15.853,16.3,13.645,15.249,16.9,15.45,15.9,13.04,15.651,16.9,16.5,14.851,15.853,15.655,15.2,14.2,16.155,16.76,16.054],[null,11.529,12.733,11.026,10.9,13.138,11.829,12.433,11.1,12.03,10.928,11.829,null,12.13,12.333,11,10.625,10.925,11.428,11.129,null,10.225,11.83,9.824,11.126,14.1,13.74,10.6,null,10.825,10.626,10.226,11.832,11.126,11.628,10.124,10.925,12.733,11.129,11.026,null,9.4,11.526,11.027,10.526,11.4,10.524,null,11.528,13.64,10.326,12.434,null,11.53,8.7,10.324,11.227,11.028,null,10.827,null,10.025,10.525,11.028,10.925,10.425,null,9,10.425,12.4,10.124,11.833,11.124,10,10.024,10.828,9.822,11.43,10.124,10.224,11.53,10.124,10.927,10.225,9.924,9.8,9.622,null,null,10.425,null,11.3,11.333,10.626,10.325,10.526,10.322,9.322,9.723,9.821,null,10.024,10.224,9.721,10.024,8.919,10.125,10.8,10.124,10.326,9.621,9.924,9.825,10.023,10.025,null,9.017,null,9.3,10.024,11.1,null,10.1,10.629,12.1,9.924,8.9,10.125,9.118,10.525,10.426,10.024,null,9.725,11.427,null,10.5,9.521,9.623,12.033,10.024,null,9.3,10.425,8.618,10.224,9.32,10.726,null,null,11.027,8.2,10.225,11.3,8.317,10.023,10.926,9.625,10.429,8.7,9.023,null,7.9,13,10.319,11.428,12.331,12.533,12.431,null,9.3,11.2,10.8,10.729,11.1,12.834,13.035,null,13.437,13.739,9.8,13.438,11.8,9.921,9.622,11,10.3,10.525,11.7,11.128,null,10.525,null,null,10.125,9.926,10.02,11.9,10.223,11.3,10.726,11.3,11.23,10.826,10.3,11.026,10,10.727,11.026,10.2,11.5,11.83,11.127,12.531,10.7,9.6,11.228,10.525,11.228],[null,2.91,3.21,3.42,1.3,4.03,2.61,3.31,2.5,3.21,2.71,3.21,null,2.81,4.33,null,3.21,3.11,3.21,3.11,null,3.42,2.41,2.51,3.21,4.6,5.99,3.6,3.01,3.31,2.81,2.91,3.22,3.31,2.31,3.51,3.21,3.01,2.81,3.41,null,1.3,3.01,2.2,3.42,2.8,3.01,2.51,3.01,5.79,2.81,3.92,2.91,2.41,1.5,2.51,3.01,2.71,null,2.91,3.72,3.42,2.71,2.61,3.11,3.01,2.71,1.5,2.91,4,2.82,6.01,3.31,2.5,2.81,2.61,2.81,4.32,2.71,3.01,3.22,3.21,2.61,3.01,3.52,2,2.91,null,2.72,3.31,2.81,3.3,6.51,2.91,3.31,3.41,3.11,2.81,3.32,2.91,2.72,3.41,3.42,3.52,3.41,2.91,3.52,2.9,3.42,5.03,3.32,3.01,3.31,3.52,2.81,null,2.31,2.71,1.4,2.91,2.5,null,3.1,5.57,2.4,2.91,1.5,3.11,2.81,2.51,5.24,3.01,2.61,3.01,2.51,null,2,2.41,3.01,5.78,3.11,null,3.4,3.01,2.71,3.22,3.11,3.01,null,null,2.91,1.4,3.51,2.2,3.32,3.11,2.91,2.51,5.37,4,2.31,null,1.2,3.6,2.31,3.21,4.03,4.03,3.83,4.53,3.6,2.1,4,6.71,3.8,3.93,3.72,null,3.21,2.81,4.4,2.41,3,2.51,9.52,7.6,6.6,4.94,5.4,5.76,null,5.04,5.97,null,4.65,3.13,5.67,6.3,5.66,4.6,7.512,9,9.317,7.412,9.2,7.312,7.4,9.317,7.312,7,6.4,6.79,7.111,5.27,8.9,6.6,6.91,6.71,6.81],[null,3.513,3.514,3.012,null,3.013,3.414,3.514,null,3.514,3.213,3.514,null,3.213,2.812,null,null,3.012,3.514,3.413,null,3.213,3.213,3.315,3.513,2.6,2.512,null,null,3.513,3.213,3.313,3.713,3.413,2.913,3.012,3.413,null,3.613,3.012,null,null,3.513,3.013,3.113,null,3.012,null,3.414,2.612,3.313,3.213,3.413,3.113,null,3.213,3.414,null,null,3.313,null,3.213,3.313,3.213,3.112,3.613,3.413,null,3.213,null,3.013,3.113,3.113,null,3.314,3.213,3.314,3.013,3.313,3.414,3.512,3.314,3.113,3.613,3.213,null,3.314,null,3.312,3.413,3.814,null,3.213,2.913,3.313,3.414,3.414,3.414,3.713,3.313,3.312,3.414,3.414,3.213,3.414,3.514,3.313,null,3.313,3.113,3.213,3.414,3.613,3.313,3.413,null,3.413,3.313,null,3.414,null,null,3.7,3.314,null,3.414,null,3.414,3.313,3.012,3.113,3.414,3.313,3.513,3.516,null,null,3.213,3.414,3.614,3.414,null,null,3.514,3.313,3.21,3.614,3.514,null,3.313,3.514,null,3.513,null,3.013,3.012,3.513,3.213,3.013,null,3.113,3.413,null,3.1,3.412,3.513,3.613,3.614,3.614,null,null,null,3.2,2.812,null,3.614,3.613,3.313,3.513,3.614,null,3.614,null,3.614,3.213,null,null,3.413,3.2,3.613,3.313,3.413,3.713,null,3.614,3.414,3.413,3.2,3.413,null,3.313,3.3,3.515,3.413,null,3.413,2.9,2.912,3.413,null,null,3.914,3.313,3.814,null,3.7,3.313,3.413,3.313],[null,3.04,2.55,3.65,3,2.83,2.53,2.66,2.3,2.65,3.23,2.76,null,2.73,3.25,null,3.06,3.16,2.76,3.14,null,3.95,2.53,2.53,2.86,2.7,2.23,2.8,null,2.76,3.45,3.36,4.47,2.86,2.73,3.57,2.86,2.53,3.15,2.96,null,4,2.86,3.04,4.05,3.8,3.67,2.83,2.86,3.14,3.46,3.35,3.06,3.14,4.5,3.85,2.86,3.04,null,2.96,null,4.15,3.17,3.54,3.17,3.65,3.27,4.2,3.06,2.3,2.43,3.03,3.47,2.4,2.86,4.15,4.26,3.55,3.66,3.07,3.75,3.16,3.84,3.65,4.16,2.2,4.46,null,3.46,3.16,2.23,4.9,3.35,3.74,3.47,3.68,4.18,4.67,3.77,4.08,3.46,3.88,3.68,4.57,3.88,4.88,3.78,4.6,3.57,4.59,4.67,3.57,3.96,3.35,4.81,null,4.91,3.76,4.5,3.88,3,null,4,3.75,3.5,3.98,4.4,4.28,5.01,5.01,4.69,4.18,null,4.37,4.49,null,4.4,5.79,4.09,4.16,3.98,4.58,6,3.57,5.21,4.39,4.07,3.57,null,null,3.37,4.8,3.34,6.7,4.16,4.07,2.96,6.09,3.86,4,5.91,null,4.4,2,5.18,2.14,1.73,1.63,1.73,2.33,null,1.7,2.3,1.92,2.6,1.73,1.73,2.53,1.73,1.73,null,1.84,1.7,1.94,2.02,2.7,null,1.83,0.9,1.62,null,1.73,1.52,null,2.63,null,1.73,0.9,1.73,1.9,1.73,2.6,1.72,1.83,2.2,1.83,1.9,1.52,1.73,null,1.8,2.53,1.73,null,2.6,null,1.73,2.53,1.73],[null,2.28,2.38,2.38,null,1.47,1.77,2.38,null,2.38,2.08,2.49,null,1.87,2.08,null,null,2.08,2.49,2.18,null,2.49,1.88,2.18,2.41,1.7,1.47,null,2.28,2.41,2.19,2.39,2.18,2.41,2.18,2.07,2.41,null,2.18,2.08,null,null,2.41,2.28,2.28,null,2.08,null,2.39,1.56,2.39,1.87,2.28,2.08,null,2.21,2.39,null,null,2.39,null,2.28,2.39,1.98,2.08,2.18,2.28,null,2.29,null,2.08,1.67,2.08,null,2.29,2.08,2.31,2.18,2.39,2.39,2.38,2.39,2.18,2.29,2.38,null,2.41,null,2.39,2.39,2.11,null,1.57,2.18,2.39,2.39,2.08,2.49,2.29,2.18,2.49,2.39,2.39,2.38,2.39,2.39,2.39,null,2.31,2.31,2.28,2.39,2.29,2.41,2.18,null,2.31,2.49,null,2.29,null,null,2.1,1.98,null,2.29,null,2.29,2.31,1.87,2.31,2.39,2.49,2.18,1.97,null,null,2.28,2.39,1.67,2.39,null,null,2.39,2.41,1.88,2.611,2.39,null,2.39,2.41,null,2.28,null,2.41,2.08,2.41,2.07,1.67,null,2.38,2.38,null,2,2.71,2.51,2.38,2.38,2.48,2.08,null,null,1.2,1.57,null,2.48,2.59,2.28,2.69,2.69,null,2.59,null,2.51,1.57,null,null,2.49,2,2.28,null,2.51,2.28,null,2.18,null,2.41,2.2,2.41,null,2.49,1.3,1.34,2.39,null,2.39,1.6,1.57,2.39,null,null,2.28,2.39,null,null,2,2.49,2.71,2.49],[null,1.56,1.46,1.56,null,1.36,1.56,1.46,null,1.56,1.67,1.56,null,1.67,1.46,null,null,1.98,1.56,1.66,null,1.56,1.67,1.67,1.56,1.2,1.26,null,1.77,1.56,1.67,1.56,1.67,1.56,1.77,1.98,1.56,null,1.56,1.98,null,null,1.56,1.66,1.66,null,1.88,1.67,1.56,1.47,1.56,1.46,1.77,1.77,null,1.67,1.56,null,null,1.67,null,1.66,1.56,1.77,1.97,1.66,1.76,null,1.66,null,1.77,1.36,1.97,null,1.56,1.56,1.67,1.26,1.56,1.66,1.97,1.66,1.67,1.67,1.56,null,1.67,null,1.76,1.67,1.67,null,1.36,1.66,1.66,1.67,1.98,1.67,1.77,1.98,1.66,1.67,1.77,1.56,1.67,1.77,1.67,null,1.67,1.46,1.56,1.67,1.66,1.46,1.88,null,1.77,1.66,null,1.77,null,null,1.2,1.46,null,1.77,null,1.77,1.77,1.58,1.57,1.77,1.77,1.66,2.09,null,null,1.46,1.77,1.46,1.77,null,null,1.77,1.66,1.77,1.78,1.77,null,1.67,1.77,null,1.56,null,1.87,1.97,1.77,1.36,1.16,null,1.66,1.56,null,1.9,1.66,1.66,1.66,1.66,1.67,null,null,null,1.7,1.56,null,1.67,1.67,1.56,1.67,1.67,null,1.67,null,1.66,1.78,null,null,1.46,2.1,1.56,1.56,1.36,null,null,1.66,null,1.36,2,1.36,null,1.56,1.2,1.57,1.56,null,1.56,1.7,1.68,1.56,null,null,1.66,1.56,null,null,1.6,1.56,1.87,1.56],[null,1.15,1.46,1.15,null,0.94,1.46,1.46,null,1.36,1.15,1.36,null,1.35,1.04,null,null,null,1.35,1.15,null,1.25,1.25,1.35,1.35,0.8,0.83,null,1.05,1.35,1.15,1.15,1.25,1.35,1.25,null,1.25,null,1.15,null,null,null,1.25,1.04,1.15,null,null,1.04,1.25,0.82,1.15,1.04,1.05,1.15,null,1.15,1.25,null,null,1.15,null,1.15,1.15,1.25,null,1.15,1.15,null,1.15,null,1.25,0.72,null,null,1.15,1.05,1.15,1.15,1.15,1.15,1.25,1.15,1.15,1.15,1.15,null,1.15,null,1.25,1.15,1.15,null,0.94,1.25,1.15,1.15,null,1.15,1.25,null,1.25,1.15,1.15,1.15,1.15,1.25,1.15,null,1.15,0.94,1.15,1.15,1.25,1.15,null,null,1.15,1.25,null,1.15,null,null,0.8,0.72,null,1.15,null,1.15,1.15,null,1.05,1.15,1.25,1.25,null,null,null,1.15,1.25,1.04,1.25,1.25,null,1.15,1.15,null,1.25,1.15,null,1.25,1.25,null,1.25,null,1.25,null,1.25,1.15,1.15,null,1.35,1.35,null,null,1.35,1.35,1.35,1.35,1.35,1.15,null,null,0.9,0.93,null,1.35,1.35,1.35,1.35,1.35,null,1.45,null,1.45,1.05,null,null,1.35,null,1.25,1.35,1.46,1.25,null,1.25,null,1.46,null,1.46,null,1.45,0.7,0.82,1.35,null,1.35,0.8,0.92,1.35,null,null,1.25,1.35,null,null,1.1,1.35,1.35,1.35],[null,0.92,1.02,0.92,null,0.71,1.23,1.02,null,1.02,1.03,1.02,null,1.34,1.02,null,null,null,1.02,0.92,null,0.92,1.23,0.82,1.02,1,0.81,null,null,1.02,0.92,0.92,1.02,1.02,1.13,null,0.92,null,0.92,null,null,null,0.92,1.03,0.92,null,null,0.82,0.92,1.03,0.92,0.92,null,1.13,null,0.92,0.92,null,null,0.92,null,0.92,0.92,1.03,null,1.02,null,null,0.92,null,0.93,0.92,null,null,0.92,0.92,0.81,0.92,0.92,0.92,1.02,0.92,1.03,1.12,0.92,null,0.81,null,null,0.92,0.81,null,0.81,1.03,0.92,0.92,null,0.81,1.12,null,null,0.92,0.92,0.92,0.92,0.71,0.92,null,0.92,0.81,0.92,0.92,1.02,1.02,null,null,0.81,null,null,0.92,null,null,0.7,0.71,null,0.92,null,0.92,0.81,null,0.81,0.92,null,1.02,null,null,null,0.92,1.02,0.81,0.92,1.12,null,0.92,0.81,null,0.92,0.92,null,null,0.92,null,1.02,null,1.02,null,0.92,0.92,0.61,null,0.91,null,null,null,1.02,0.92,0.92,0.92,0.92,0.81,null,null,0.6,0.61,null,0.92,0.92,null,0.92,0.91,null,1.12,null,1.02,0.81,null,null,0.92,null,1.02,null,0.81,null,null,1.12,null,0.81,null,0.81,null,0.81,1.1,0.92,0.81,null,0.81,0.7,0.61,0.81,null,null,1.02,0.81,null,null,null,0.81,null,0.81],[null,0.41,0.62,0.62,null,0.41,0.52,0.62,null,0.72,0.41,0.72,null,0.41,0.62,null,null,null,0.62,0.52,null,0.62,0.52,0.62,0.62,0.2,0.31,null,null,0.62,0.41,0.52,0.41,0.62,0.41,null,0.51,null,0.52,null,null,null,0.51,0.41,0.52,null,null,0.62,0.51,0.41,0.52,0.62,null,0.41,null,0.41,0.51,null,null,0.51,null,0.52,0.51,0.31,null,0.52,null,null,0.51,null,0.52,0.42,null,null,0.51,0.52,0.41,0.52,0.52,0.51,0.41,0.51,0.52,0.62,0.41,null,0.41,null,null,0.51,0.52,null,0.42,0.52,0.51,0.51,null,0.41,0.62,null,null,0.51,0.51,0.41,0.51,0.41,0.51,null,0.51,0.41,0.41,0.51,0.52,0.52,null,null,0.51,null,null,0.51,null,null,0.6,0.3,null,0.51,null,0.5,0.41,null,0.41,0.51,null,0.52,null,null,null,0.41,0.51,0.2,0.51,0.62,null,0.51,0.52,null,0.41,0.51,null,null,0.51,null,0.52,null,0.41,null,0.51,0.41,0.31,null,0.51,null,null,null,0.41,0.51,0.51,0.5,0.52,0.41,null,null,0.2,0.3,null,0.52,0.51,null,0.51,0.51,null,0.52,null,0.52,0.21,null,null,0.51,null,0.52,null,0.51,null,null,0.52,null,0.52,null,0.51,null,0.52,0.2,0.41,0.52,null,0.51,0.3,0.52,0.51,null,null,0.52,0.52,null,null,null,0.52,0.83,0.52],[null,null,0.92,0.82,null,0.61,1.02,0.92,null,0.92,0.72,0.92,null,1.14,0.72,null,null,null,0.92,null,null,0.72,1.02,0.82,0.92,0.5,0.61,null,null,0.92,0.72,0.72,0.51,0.92,1.14,null,0.82,null,null,null,null,null,0.82,1.13,0.72,null,null,0.71,0.82,0.61,0.61,0.61,null,1.02,null,0.72,0.82,null,null,0.72,null,0.72,0.72,1.13,null,null,null,null,0.72,null,0.72,0.51,null,null,0.61,0.92,0.72,0.51,0.61,0.61,0.51,0.61,0.61,null,0.72,null,0.61,null,null,0.61,0.51,null,0.51,0.61,0.61,0.61,null,0.61,null,null,null,0.61,0.61,0.72,0.61,0.61,0.61,null,0.61,0.61,0.72,0.61,null,0.61,null,null,0.61,null,null,0.61,null,null,1,0.82,null,0.61,null,0.61,0.61,null,0.51,0.61,null,null,null,null,null,0.72,0.61,0.72,0.61,0.72,null,0.61,0.61,null,0.51,0.61,null,null,0.61,null,null,null,0.72,null,0.61,0.61,0.51,null,0.61,null,null,null,0.61,0.61,0.61,0.61,0.61,0.61,null,null,0.4,0.51,null,0.61,0.61,null,0.51,0.51,null,0.72,null,0.72,0.62,null,null,0.72,null,null,null,0.72,0.62,null,0.72,null,0.72,null,0.72,null,0.72,0.7,0.72,0.72,null,0.72,0.6,0.51,0.72,null,null,0.92,0.71,null,null,null,0.61,0.62,0.61],[null,null,0.52,0.42,null,0.1,0.31,0.52,null,0.52,0.42,0.52,null,0.42,0.42,null,null,null,0.52,null,null,0.42,0.42,0.42,0.52,0.3,0.42,null,0.42,0.52,0.42,0.42,null,0.42,0.42,null,0.42,null,null,null,null,null,0.42,0.42,0.42,null,null,0.42,0.42,0.42,0.42,0.42,0.42,0.52,null,0.42,0.42,0.42,null,0.42,null,0.42,0.42,0.52,null,null,0.42,null,0.42,null,0.42,0.42,null,null,0.42,0.42,0.42,0.42,0.42,0.42,null,0.42,0.42,null,0.42,null,0.42,null,0.42,0.42,0.42,null,0.42,0.42,0.42,0.42,null,0.42,null,null,0.42,0.42,0.42,0.42,0.42,0.42,0.42,null,0.42,0.31,0.42,0.42,null,0.42,null,null,0.43,0.42,null,0.42,null,null,0.4,0.32,null,0.42,null,0.42,0.42,null,0.32,0.42,0.42,null,null,null,null,0.42,0.42,0.42,0.42,0.42,null,0.42,0.42,null,0.42,0.42,null,0.42,0.42,null,null,null,0.42,null,0.42,0.42,0.42,null,0.42,0.42,null,null,0.42,0.42,0.42,0.42,0.42,0.42,null,null,0.3,0.42,null,0.42,0.42,0.42,0.42,0.42,null,0.42,null,0.42,0.42,null,null,0.42,null,null,0.42,0.42,0.42,null,0.42,0.42,0.42,null,0.42,null,0.42,0.3,0.42,0.42,null,0.42,0.8,0.63,0.42,null,null,0.42,0.42,0.42,null,null,0.42,0.31,0.42],[null,null,0.21,0.21,null,0.1,0.21,0.21,null,0.21,0.21,0.21,null,0.21,0.21,null,null,null,0.21,null,null,0.21,0.21,0.21,0.21,0.1,0.21,null,null,0.21,0.21,0.21,0.31,0.21,0.21,null,0.21,null,null,null,null,null,0.31,0.21,0.21,null,null,0.21,0.31,0.1,0.21,0.21,null,0.21,null,0.21,0.31,null,null,0.31,null,0.21,0.31,0.21,null,null,null,null,0.31,null,0.21,0.1,null,null,0.21,0.31,0.31,0.31,0.21,0.21,0.31,0.31,0.31,null,0.21,null,0.31,null,null,0.31,0.21,null,0.1,0.31,0.31,0.31,null,0.31,null,null,null,0.31,0.31,0.21,0.31,0.31,0.31,null,0.31,0.41,0.21,0.31,null,0.21,null,null,0.31,null,null,0.31,null,null,0.1,0.21,null,0.31,null,0.31,0.31,null,0.41,0.31,null,null,null,null,null,0.21,0.31,0.1,0.31,0.21,null,0.31,0.31,null,0.21,0.31,null,null,0.31,null,null,null,0.21,null,0.31,0.31,0.21,null,0.21,null,null,null,0.31,0.31,0.31,0.31,0.31,0.21,null,null,0,null,null,0.31,0.31,null,0.31,0.31,null,0.31,null,0.31,null,null,null,0.31,null,null,null,0.31,0.21,null,0.31,null,0.31,null,0.31,null,0.31,0.2,0.21,0.31,null,0.31,0.1,0.31,0.31,null,null,0.31,0.31,null,null,null,0.31,0.31,0.31],[null,null,0.11,0.11,null,0.11,0.11,0.11,null,0.11,0.11,0.11,null,0.11,0.11,null,null,null,0.11,null,null,0.11,0.11,0.11,0.11,0,0.11,null,null,0.11,0.11,0.11,null,0.11,0.11,null,0.11,null,null,null,null,null,0.11,0.11,0.11,null,null,0.11,0.11,0.11,0.11,0.11,null,0.11,null,0.11,0.11,null,null,0.11,null,0.11,0.11,0.11,null,null,null,null,0.11,null,0.11,0.11,null,null,0.11,0.11,0.11,0.11,0.11,0.11,0.11,0.11,0.11,null,0.11,null,0.11,null,null,0.11,0.11,null,0.11,0.11,0.11,0.11,null,0.11,null,null,null,0.11,0.11,0.11,0.11,0.11,0.11,null,0.11,0.11,0.11,0.11,null,0.11,null,null,0.11,null,null,0.11,null,null,0.1,0.11,null,0.11,null,0.11,0.11,null,0.11,0.11,null,null,null,null,null,0.11,0.11,0.11,0.11,0.11,null,0.11,0.11,null,0.11,0.11,null,null,0.11,null,null,null,0.11,null,0.11,0.11,0.11,null,0.11,null,null,null,0.11,0.11,0.11,0.11,0.11,0.11,null,null,0.1,null,null,0.11,0.11,null,0.11,0.11,null,0.11,null,0.11,0.11,null,null,0.11,null,null,null,0.11,0.11,null,0.11,null,0.11,null,0.11,null,0.11,0.3,0.11,0.11,null,0.11,0,null,0.11,null,null,0.11,0.11,null,null,null,0.11,0.11,0.11],[1.2,0.4,1.5,1,0.6,7,1.5,1.2,0.3,1.4,2.4,1,2.6,0.2,1.3,7,3.1,1.4,0.7,0.7,2,1.9,1,3.4,null,4,7.2,2.4,3.5,0.2,2.5,2.4,1,null,0.1,2.2,0.3,2.9,1.7,3.5,0.3,1.3,null,0.3,2.4,1.3,3.2,4.6,0.4,6.7,2.5,0.1,4.1,0.8,2.2,3.6,1.9,1.3,0.2,2.2,4.5,2.5,2.1,2.2,3.4,2.4,4.2,2.7,2,1.7,3,6.4,3.4,0.4,1.4,1,4.1,2.2,2.5,0.8,0.2,0.3,0.5,2,3.1,0.3,3.7,0.1,4.9,2.1,1.9,3.7,9.1,0.2,2.9,2.8,4.7,5.4,3.5,4.1,4.8,3.6,3.5,4,3.6,5.3,3.3,3.3,3.4,1.7,4.4,2.7,3.1,6,3.7,4,5.8,3.9,1.8,2.3,2.4,1.3,1.7,5.2,3.9,1.9,2.4,3.5,5.9,3.5,2.1,3.5,5.7,3,5.6,2.2,4.1,4.5,2.7,3.5,3.1,5.2,4.1,2.5,3.6,4.5,1.1,2.5,3.6,4.2,2.1,0.3,0.8,7.5,5.1,4.7,0.5,2.1,4.5,0.2,1.8,0.8,0.6,4.5,0.6,1.1,3.1,3.1,2.4,1.7,3.5,5.7,9.2,10.9,5,2.1,2.4,1.8,1.9,1.7,4.5,1.6,7,6.9,13.4,8.6,3.6,7.3,4.3,6.5,3.7,8.2,6.4,5.8,6,6.6,8.5,4.2,7.4,9.1,4.4,8.4,11.9,3.7,10,3.6,6.4,10.2,3.9,3.8,4.4,3.3,4.1,2,5.2,2.1,4.4,3.8,4.3]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>casa<\/th>\n      <th>fecha_final<\/th>\n      <th>muestra<\/th>\n      <th>participacion<\/th>\n      <th>PSOE<\/th>\n      <th>PP<\/th>\n      <th>Vox<\/th>\n      <th>UP<\/th>\n      <th>Cs<\/th>\n      <th>ERC<\/th>\n      <th>MP<\/th>\n      <th>JxCat<\/th>\n      <th>PNV<\/th>\n      <th>EHBildu<\/th>\n      <th>CUP<\/th>\n      <th>CC<\/th>\n      <th>BNG<\/th>\n      <th>NA+<\/th>\n      <th>PRC<\/th>\n      <th>EV<\/th>\n      <th>ventaja<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="consultas-1" class="section level2">
<h2>
<span class="header-section-number">21.8</span> Consultas<a class="anchor" aria-label="anchor" href="#consultas-1"><i class="fas fa-link"></i></a>
</h2>
<p>Una vez que tenemos los datos depurados vamos a <mark><strong>realizar algunas consultas sencillas</strong></mark> usando <a href="https://tidyverse.tidyverse.org">tidyverse</a>.</p>
<p><mark><strong>¿Cuáles son las 10 encuestas con mayor tamaño muestral?</strong></mark></p>
<div class="sourceCode" id="cb1872"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice_max</a></span><span class="op">(</span><span class="va">muestra</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 21
##    casa    fecha_final muestra participacion  PSOE    PP   Vox    UP    Cs   ERC
##    &lt;chr&gt;   &lt;date&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 ELECTO… 2021-05-02     4320            NA  27.1  24.0  17.0 12.3   4.03  3.61
##  2 CIS (S… 2021-02-11     3869            NA  28.1  19.7  16.3 11.3   9     3.3 
##  3 CIS     2021-02-11     3869            NA  30.7  18.9  13.6 11.2   9.32  3.52
##  4 CIS (S… 2021-01-25     3862            NA  28.6  22.2  15.9 10     7.4   2.9 
##  5 CIS     2021-01-25     3862            NA  30.7  20.6  13.0 10.7   9.32  2.91
##  6 CIS (S… 2021-04-14     3823            NA  30    20.8  18.8 10.8   4     3.2 
##  7 CIS     2021-04-14     3823            NA  31.5  20.7  15.5 10.7   6.71  2.81
##  8 CIS     2021-03-11     3820            NA  31.3  18.0  15.1  9.62  9.52  3.21
##  9 CIS     2021-06-15     3814            NA  27.4  23.9  13.0 12.0   5.78  3.61
## 10 CIS     2021-05-13     3814            NA  27.9  23.4  13.7 10.4   5.37  3.01
## # … with 11 more variables: MP &lt;dbl&gt;, JxCat &lt;dbl&gt;, PNV &lt;dbl&gt;, EHBildu &lt;dbl&gt;,
## #   CUP &lt;dbl&gt;, CC &lt;dbl&gt;, BNG &lt;dbl&gt;, NA+ &lt;dbl&gt;, PRC &lt;dbl&gt;, EV &lt;dbl&gt;,
## #   ventaja &lt;dbl&gt;</code></pre>
<p><mark><strong>¿Cuáles son las encuestas más recientes?</strong></mark></p>
<div class="sourceCode" id="cb1874"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/desc.html">desc</a></span><span class="op">(</span><span class="va">fecha_final</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 219 × 21
##    casa    fecha_final muestra participacion  PSOE    PP   Vox    UP    Cs   ERC
##    &lt;chr&gt;   &lt;date&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 DYM/HE… 2022-01-23     1008            NA  NA    NA    NA    NA   NA    NA   
##  2 KEYDAT… 2022-01-21       NA            NA  26.0  25.6  17.5  11.5  2.91  3.51
##  3 ELECTO… 2022-01-20     1190            NA  24.5  23.0  20.8  12.7  3.21  3.51
##  4 CELEST… 2022-01-14     1100            NA  26.2  27.2  16.6  11.0  3.42  3.01
##  5 INVYMA… 2022-01-14       NA            NA  27.3  27.9  16.5  10.9  1.3  NA   
##  6 CIS     2022-01-14     3777            NA  28.5  21.6  14.8  13.1  4.03  3.01
##  7 IMOP/E… 2022-01-14     1312            NA  26.4  24.9  18.0  11.8  2.61  3.41
##  8 ELECTO… 2022-01-13     1317            NA  24.6  23.4  20.6  12.4  3.31  3.51
##  9 SIMPLE… 2022-01-13     1039            NA  24.6  24.3  18.7  11.1  2.5  NA   
## 10 ELECTO… 2022-01-06     1823            NA  25.0  23.6  20.3  12.0  3.21  3.51
## # … with 209 more rows, and 11 more variables: MP &lt;dbl&gt;, JxCat &lt;dbl&gt;,
## #   PNV &lt;dbl&gt;, EHBildu &lt;dbl&gt;, CUP &lt;dbl&gt;, CC &lt;dbl&gt;, BNG &lt;dbl&gt;, NA+ &lt;dbl&gt;,
## #   PRC &lt;dbl&gt;, EV &lt;dbl&gt;, ventaja &lt;dbl&gt;</code></pre>
<p><mark><strong>¿Cuáles son las 5 encuestas en las que el PSOE tiene mayor proyección?</strong></mark></p>
<div class="sourceCode" id="cb1876"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice_max</a></span><span class="op">(</span><span class="va">PSOE</span>, n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 21
##   casa     fecha_final muestra participacion  PSOE    PP   Vox    UP    Cs   ERC
##   &lt;chr&gt;    &lt;date&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 CIS      2021-04-14     3823            NA  31.5  20.7  15.5 10.7   6.71  2.81
## 2 CIS      2021-03-11     3820            NA  31.3  18.0  15.1  9.62  9.52  3.21
## 3 CIS      2021-02-11     3869            NA  30.7  18.9  13.6 11.2   9.32  3.52
## 4 CIS      2021-01-25     3862            NA  30.7  20.6  13.0 10.7   9.32  2.91
## 5 CIS (SO… 2021-04-14     3823            NA  30    20.8  18.8 10.8   4     3.2 
## # … with 11 more variables: MP &lt;dbl&gt;, JxCat &lt;dbl&gt;, PNV &lt;dbl&gt;, EHBildu &lt;dbl&gt;,
## #   CUP &lt;dbl&gt;, CC &lt;dbl&gt;, BNG &lt;dbl&gt;, NA+ &lt;dbl&gt;, PRC &lt;dbl&gt;, EV &lt;dbl&gt;,
## #   ventaja &lt;dbl&gt;</code></pre>
<p><mark><strong>¿Cuál es la encuesta del CIS en la que el PP tiene mayor proyección?</strong></mark></p>
<div class="sourceCode" id="cb1878"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/filter.html">filter</a></span><span class="op">(</span><span class="va">casa</span> <span class="op">==</span> <span class="st">"CIS"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice_max</a></span><span class="op">(</span><span class="va">PP</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 21
##   casa  fecha_final muestra participacion  PSOE    PP   Vox    UP    Cs   ERC
##   &lt;chr&gt; &lt;date&gt;        &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 CIS   2021-06-15     3814            NA  27.4  23.9  13.0  12.0  5.78  3.61
## # … with 11 more variables: MP &lt;dbl&gt;, JxCat &lt;dbl&gt;, PNV &lt;dbl&gt;, EHBildu &lt;dbl&gt;,
## #   CUP &lt;dbl&gt;, CC &lt;dbl&gt;, BNG &lt;dbl&gt;, NA+ &lt;dbl&gt;, PRC &lt;dbl&gt;, EV &lt;dbl&gt;,
## #   ventaja &lt;dbl&gt;</code></pre>
<p><mark><strong>¿Cuál es el promedio de las encuestas del PSOE y PP por casa encuestadora?</strong></mark></p>
<div class="sourceCode" id="cb1880"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">fecha_final</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/group_by.html">group_by</a></span><span class="op">(</span><span class="va">casa</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/summarise.html">summarise</a></span><span class="op">(</span>media_PSOE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">PSOE</span><span class="op">)</span>, media_PP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">PP</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 28 × 3
##    casa                            media_PSOE media_PP
##    &lt;chr&gt;                                &lt;dbl&gt;    &lt;dbl&gt;
##  1 40DB/PRISA                            NA       NA  
##  2 ÁGORA INTEGRAL/CANARIAS AHORA         25.8     25.4
##  3 CELESTE-TEL/ONDA CERO                 26.3     27.8
##  4 CIS                                   29.2     21.3
##  5 CIS (SOCIOMÉTRICA)                    27.3     22.0
##  6 DATA10/OKDIARIO                       25.0     29.2
##  7 DEMOSCOPIA Y SERVICIOS/ESDIARIO       25.3     25.9
##  8 DYM/HENNEO                            NA       NA  
##  9 ELECTOPANEL/ELECTOMANÍA               26.2     25.7
## 10 GAD3/ABC                              25.5     29.8
## # … with 18 more rows</code></pre>
<p><mark><strong>¿Cuál es son las 3 casas encuestadoras más sesgada hacia el PSOE (con mayor diferencia de promedio de PSOE vs PP)? ¿Y hacia el PP?</strong></mark></p>
<div class="sourceCode" id="cb1882"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">fecha_final</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/group_by.html">group_by</a></span><span class="op">(</span><span class="va">casa</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/summarise.html">summarise</a></span><span class="op">(</span>media_PSOE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">PSOE</span><span class="op">)</span>, media_PP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">PP</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>diferencia <span class="op">=</span> <span class="va">media_PSOE</span> <span class="op">-</span> <span class="va">media_PP</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice_max</a></span><span class="op">(</span><span class="va">diferencia</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   casa               media_PSOE media_PP diferencia
##   &lt;chr&gt;                   &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
## 1 CIS                      29.2     21.3       7.94
## 2 PSOE                     29       22         7   
## 3 CIS (SOCIOMÉTRICA)       27.3     22.0       5.26</code></pre>
<div class="sourceCode" id="cb1884"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">encuestas_depurado</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">fecha_final</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/group_by.html">group_by</a></span><span class="op">(</span><span class="va">casa</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/summarise.html">summarise</a></span><span class="op">(</span>media_PSOE <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">PSOE</span><span class="op">)</span>, media_PP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">PP</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/mutate.html">mutate</a></span><span class="op">(</span>diferencia <span class="op">=</span> <span class="va">media_PP</span> <span class="op">-</span> <span class="va">media_PSOE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/dplyr/man/slice.html">slice_max</a></span><span class="op">(</span><span class="va">diferencia</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 4
##   casa               media_PSOE media_PP diferencia
##   &lt;chr&gt;                   &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
## 1 GAD3/ABC                 25.5     29.8       4.36
## 2 DATA10/OKDIARIO          25.0     29.2       4.12
## 3 SIGMA DOS/ANTENA 3       25.3     29.3       3.99</code></pre>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="resumenes.html"><span class="header-section-number">20</span> Resumiendo y relacionado datos</a></div>
<div class="next"><a href="ggplot2.html"><span class="header-section-number">22</span> Visualizando datos: incursión a ggplot2</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#tidyverse-2"><span class="header-section-number">21</span> Profundizando tidyverse: encuestas electorales</a></li>
<li><a class="nav-link" href="#nombrar-columnas-1"><span class="header-section-number">21.1</span> Nombrar columnas</a></li>
<li><a class="nav-link" href="#eliminar-filas-1"><span class="header-section-number">21.2</span> Eliminar filas</a></li>
<li><a class="nav-link" href="#a%C3%B1adir-columna-de-a%C3%B1o-1"><span class="header-section-number">21.3</span> Añadir columna de año</a></li>
<li><a class="nav-link" href="#juntar-tablas-1"><span class="header-section-number">21.4</span> Juntar tablas</a></li>
<li><a class="nav-link" href="#convertir-a-num%C3%A9ricas-1"><span class="header-section-number">21.5</span> Convertir a numéricas</a></li>
<li><a class="nav-link" href="#convertir-las-fechas-de-campo-1"><span class="header-section-number">21.6</span> Convertir las fechas de campo</a></li>
<li><a class="nav-link" href="#limpiamos-nombres-de-encuestas-1"><span class="header-section-number">21.7</span> Limpiamos nombres de encuestas</a></li>
<li><a class="nav-link" href="#consultas-1"><span class="header-section-number">21.8</span> Consultas</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dadosdelaplace/courses-ECI-2022/blob/master/21-tidyverse_2.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dadosdelaplace/courses-ECI-2022/edit/master/21-tidyverse_2.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Analizando datos, visualizando información, contando historias</strong>" was written by Javier Álvarez Liébana y Gabriel Valverde Castilla. It was last built on Última actualización: 27-01-2022.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
